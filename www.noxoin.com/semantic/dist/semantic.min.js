 /*
 * # Semantic UI - 2.2.7
 * https://github.com/Semantic-Org/Semantic-UI
 * http://www.semantic-ui.com/
 *
 * Copyright 2014 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,n,t,i){e.site=e.fn.site=function(o){var a,s,r=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),f=e.isPlainObject(o)?e.extend(!0,{},e.site.settings,o):e.extend({},e.site.settings),m=f.namespace,g=f.error,b="module-"+m,p=e(t),v=p,h=this,y=v.data(b);return a={initialize:function(){a.instantiate()},instantiate:function(){a.verbose("Storing instance of site",a),y=a,v.data(b,a)},normalize:function(){a.fix.console(),a.fix.requestAnimationFrame()},fix:{console:function(){a.debug("Normalizing window.console"),console!==i&&console.log!==i||(a.verbose("Console not available, normalizing events"),a.disable.console()),"undefined"!=typeof console.group&&"undefined"!=typeof console.groupEnd&&"undefined"!=typeof console.groupCollapsed||(a.verbose("Console group not available, normalizing events"),n.console.group=function(){},n.console.groupEnd=function(){},n.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(a.verbose("Mark timeline not available, normalizing events"),n.console.markTimeline=function(){})},consoleClear:function(){a.debug("Disabling programmatic console clearing"),n.console.clear=function(){}},requestAnimationFrame:function(){a.debug("Normalizing requestAnimationFrame"),n.requestAnimationFrame===i&&(a.debug("RequestAnimationFrame not available, normalizing event"),n.requestAnimationFrame=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(n){return e.fn[n]!==i&&e.fn[n].settings!==i},enabled:{modules:function(n){var t=[];return n=n||f.modules,e.each(n,function(e,n){a.moduleExists(n)&&t.push(n)}),t}},disabled:{modules:function(n){var t=[];return n=n||f.modules,e.each(n,function(e,n){a.moduleExists(n)||t.push(n)}),t}},change:{setting:function(n,t,o,s){o="string"==typeof o?"all"===o?f.modules:[o]:o||f.modules,s=s===i||s,e.each(o,function(i,o){var r,c=!a.moduleExists(o)||(e.fn[o].settings.namespace||!1);a.moduleExists(o)&&(a.verbose("Changing default setting",n,t,o),e.fn[o].settings[n]=t,s&&c&&(r=e(":data(module-"+c+")"),r.length>0&&(a.verbose("Modifying existing settings",r),r[o]("setting",n,t))))})},settings:function(n,t,o){t="string"==typeof t?[t]:t||f.modules,o=o===i||o,e.each(t,function(t,i){var s;a.moduleExists(i)&&(a.verbose("Changing default setting",n,i),e.extend(!0,e.fn[i].settings,n),o&&m&&(s=e(":data(module-"+m+")"),s.length>0&&(a.verbose("Modifying existing settings",s),s[i]("setting",n))))})}},enable:{console:function(){a.console(!0)},debug:function(e,n){e=e||f.modules,a.debug("Enabling debug for modules",e),a.change.setting("debug",!0,e,n)},verbose:function(e,n){e=e||f.modules,a.debug("Enabling verbose debug for modules",e),a.change.setting("verbose",!0,e,n)}},disable:{console:function(){a.console(!1)},debug:function(e,n){e=e||f.modules,a.debug("Disabling debug for modules",e),a.change.setting("debug",!1,e,n)},verbose:function(e,n){e=e||f.modules,a.debug("Disabling verbose debug for modules",e),a.change.setting("verbose",!1,e,n)}},console:function(e){if(e){if(y.cache.console===i)return void a.error(g.console);a.debug("Restoring console function"),n.console=y.cache.console}else a.debug("Disabling console function"),y.cache.console=n.console,n.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){a.verbose("Destroying previous site for",v),v.removeData(b)},cache:{},setting:function(n,t){if(e.isPlainObject(n))e.extend(!0,f,n);else{if(t===i)return f[n];f[n]=t}},internal:function(n,t){if(e.isPlainObject(n))e.extend(!0,a,n);else{if(t===i)return a[n];a[n]=t}},debug:function(){f.debug&&(f.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,f.name+":"),a.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),a.verbose.apply(console,arguments)))},error:function(){a.error=Function.prototype.bind.call(console.error,console,f.name+":"),a.error.apply(console,arguments)},performance:{log:function(e){var n,t,i;f.performance&&(n=(new Date).getTime(),i=r||n,t=n-i,r=n,c.push({Element:h,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":t})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,500)},display:function(){var n=f.name+":",t=0;r=!1,clearTimeout(a.performance.timer),e.each(c,function(e,n){t+=n["Execution Time"]}),n+=" "+t+"ms",(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(n),console.table?console.table(c):e.each(c,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(n,t,o){var r,c,l,u=y;return t=t||d,o=h||o,"string"==typeof n&&u!==i&&(n=n.split(/[\. ]/),r=n.length-1,e.each(n,function(t,o){var s=t!=r?o+n[t+1].charAt(0).toUpperCase()+n[t+1].slice(1):n;if(e.isPlainObject(u[s])&&t!=r)u=u[s];else{if(u[s]!==i)return c=u[s],!1;if(!e.isPlainObject(u[o])||t==r)return u[o]!==i?(c=u[o],!1):(a.error(g.method,n),!1);u=u[o]}})),e.isFunction(c)?l=c.apply(o,t):c!==i&&(l=c),e.isArray(s)?s.push(l):s!==i?s=[s,l]:l!==i&&(s=l),c}},u?(y===i&&a.initialize(),a.invoke(l)):(y!==i&&a.destroy(),a.initialize()),s!==i?s:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(n){return function(t){return!!e.data(t,n)}}):function(n,t,i){return!!e.data(n,i[3])}})}(jQuery,window,document),function(e,n,t,i){"use strict";n="undefined"!=typeof n&&n.Math==Math?n:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.sidebar=function(o){var a,s=e(this),r=e(n),c=e(t),l=e("html"),u=e("head"),d=s.selector||"",f=(new Date).getTime(),m=[],g=arguments[0],b="string"==typeof g,p=[].slice.call(arguments,1),v=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)};return s.each(function(){var s,h,y,x,C,w,T=e.isPlainObject(o)?e.extend(!0,{},e.fn.sidebar.settings,o):e.extend({},e.fn.sidebar.settings),S=T.selector,A=T.className,P=T.namespace,k=T.regExp,R=T.error,E="."+P,F="module-"+P,O=e(this),z=e(T.context),D=O.children(S.sidebar),V=z.children(S.fixed),q=z.children(S.pusher),j=this,M=O.data(F);w={initialize:function(){w.debug("Initializing sidebar",o),w.create.id(),C=w.get.transitionEvent(),w.is.ios()&&w.set.ios(),T.delaySetup?v(w.setup.layout):w.setup.layout(),v(function(){w.setup.cache()}),w.instantiate()},instantiate:function(){w.verbose("Storing instance of module",w),M=w,O.data(F,w)},create:{id:function(){y=(Math.random().toString(16)+"000000000").substr(2,8),h="."+y,w.verbose("Creating unique id for element",y)}},destroy:function(){w.verbose("Destroying previous module for",O),O.off(E).removeData(F),w.is.ios()&&w.remove.ios(),z.off(h),r.off(h),c.off(h)},event:{clickaway:function(e){var n=q.find(e.target).length>0||q.is(e.target),t=z.is(e.target);n&&(w.verbose("User clicked on dimmed page"),w.hide()),t&&(w.verbose("User clicked on dimmable context (scaled out page)"),w.hide())},touch:function(e){},containScroll:function(e){j.scrollTop<=0&&(j.scrollTop=1),j.scrollTop+j.offsetHeight>=j.scrollHeight&&(j.scrollTop=j.scrollHeight-j.offsetHeight-1)},scroll:function(n){0===e(n.target).closest(S.sidebar).length&&n.preventDefault()}},bind:{clickaway:function(){w.verbose("Adding clickaway events to context",z),T.closable&&z.on("click"+h,w.event.clickaway).on("touchend"+h,w.event.clickaway)},scrollLock:function(){T.scrollLock&&(w.debug("Disabling page scroll"),r.on("DOMMouseScroll"+h,w.event.scroll)),w.verbose("Adding events to contain sidebar scroll"),c.on("touchmove"+h,w.event.touch),O.on("scroll"+E,w.event.containScroll)}},unbind:{clickaway:function(){w.verbose("Removing clickaway events from context",z),z.off(h)},scrollLock:function(){w.verbose("Removing scroll lock from page"),c.off(h),r.off(h),O.off("scroll"+E)}},add:{inlineCSS:function(){var n,t=w.cache.width||O.outerWidth(),i=w.cache.height||O.outerHeight(),o=w.is.rtl(),a=w.get.direction(),r={left:t,right:-t,top:i,bottom:-i};o&&(w.verbose("RTL detected, flipping widths"),r.left=-t,r.right=t),n="<style>","left"===a||"right"===a?(w.debug("Adding CSS rules for animation distance",t),n+=" .ui.visible."+a+".sidebar ~ .fixed, .ui.visible."+a+".sidebar ~ .pusher {   -webkit-transform: translate3d("+r[a]+"px, 0, 0);           transform: translate3d("+r[a]+"px, 0, 0); }"):"top"!==a&&"bottom"!=a||(n+=" .ui.visible."+a+".sidebar ~ .fixed, .ui.visible."+a+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+r[a]+"px, 0);           transform: translate3d(0, "+r[a]+"px, 0); }"),w.is.ie()&&("left"===a||"right"===a?(w.debug("Adding CSS rules for animation distance",t),n+=" body.pushable > .ui.visible."+a+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+r[a]+"px, 0, 0);           transform: translate3d("+r[a]+"px, 0, 0); }"):"top"!==a&&"bottom"!=a||(n+=" body.pushable > .ui.visible."+a+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+r[a]+"px, 0);           transform: translate3d(0, "+r[a]+"px, 0); }"),n+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),n+="</style>",s=e(n).appendTo(u),w.debug("Adding sizing css to head",s)}},refresh:function(){w.verbose("Refreshing selector cache"),z=e(T.context),D=z.children(S.sidebar),q=z.children(S.pusher),V=z.children(S.fixed),w.clear.cache()},refreshSidebars:function(){w.verbose("Refreshing other sidebars"),D=z.children(S.sidebar)},repaint:function(){w.verbose("Forcing repaint event"),j.style.display="none";j.offsetHeight;j.scrollTop=j.scrollTop,j.style.display=""},setup:{cache:function(){w.cache={width:O.outerWidth(),height:O.outerHeight(),rtl:"rtl"==O.css("direction")}},layout:function(){0===z.children(S.pusher).length&&(w.debug("Adding wrapper element for sidebar"),w.error(R.pusher),q=e('<div class="pusher" />'),z.children().not(S.omitted).not(D).wrapAll(q),w.refresh()),0!==O.nextAll(S.pusher).length&&O.nextAll(S.pusher)[0]===q[0]||(w.debug("Moved sidebar to correct parent element"),w.error(R.movedSidebar,j),O.detach().prependTo(z),w.refresh()),w.clear.cache(),w.set.pushable(),w.set.direction()}},attachEvents:function(n,t){var i=e(n);t=e.isFunction(w[t])?w[t]:w.toggle,i.length>0?(w.debug("Attaching sidebar events to element",n,t),i.on("click"+E,t)):w.error(R.notFound,n)},show:function(n){if(n=e.isFunction(n)?n:function(){},w.is.hidden()){if(w.refreshSidebars(),T.overlay&&(w.error(R.overlay),T.transition="overlay"),w.refresh(),w.othersActive())if(w.debug("Other sidebars currently visible"),T.exclusive){if("overlay"!=T.transition)return void w.hideOthers(w.show);w.hideOthers()}else T.transition="overlay";w.pushPage(function(){n.call(j),T.onShow.call(j)}),T.onChange.call(j),T.onVisible.call(j)}else w.debug("Sidebar is already visible")},hide:function(n){n=e.isFunction(n)?n:function(){},(w.is.visible()||w.is.animating())&&(w.debug("Hiding sidebar",n),w.refreshSidebars(),w.pullPage(function(){n.call(j),T.onHidden.call(j)}),T.onChange.call(j),T.onHide.call(j))},othersAnimating:function(){return D.not(O).filter("."+A.animating).length>0},othersVisible:function(){return D.not(O).filter("."+A.visible).length>0},othersActive:function(){return w.othersVisible()||w.othersAnimating()},hideOthers:function(e){var n=D.not(O).filter("."+A.visible),t=n.length,i=0;e=e||function(){},n.sidebar("hide",function(){i++,i==t&&e()})},toggle:function(){w.verbose("Determining toggled direction"),w.is.hidden()?w.show():w.hide()},pushPage:function(n){var t,i,o,a=w.get.transition(),s="overlay"===a||w.othersActive()?O:q;n=e.isFunction(n)?n:function(){},"scale down"==T.transition&&w.scrollToTop(),w.set.transition(a),w.repaint(),t=function(){w.bind.clickaway(),w.add.inlineCSS(),w.set.animating(),w.set.visible()},i=function(){w.set.dimmed()},o=function(e){e.target==s[0]&&(s.off(C+h,o),w.remove.animating(),w.bind.scrollLock(),n.call(j))},s.off(C+h),s.on(C+h,o),v(t),T.dimPage&&!w.othersVisible()&&v(i)},pullPage:function(n){var t,i,o=w.get.transition(),a="overlay"==o||w.othersActive()?O:q;n=e.isFunction(n)?n:function(){},w.verbose("Removing context push state",w.get.direction()),w.unbind.clickaway(),w.unbind.scrollLock(),t=function(){w.set.transition(o),w.set.animating(),w.remove.visible(),T.dimPage&&!w.othersVisible()&&q.removeClass(A.dimmed)},i=function(e){e.target==a[0]&&(a.off(C+h,i),w.remove.animating(),w.remove.transition(),w.remove.inlineCSS(),("scale down"==o||T.returnScroll&&w.is.mobile())&&w.scrollBack(),n.call(j))},a.off(C+h),a.on(C+h,i),v(t)},scrollToTop:function(){w.verbose("Scrolling to top of page to avoid animation issues"),x=e(n).scrollTop(),O.scrollTop(0),n.scrollTo(0,0)},scrollBack:function(){w.verbose("Scrolling back to original page position"),n.scrollTo(0,x)},clear:{cache:function(){w.verbose("Clearing cached dimensions"),w.cache={}}},set:{ios:function(){l.addClass(A.ios)},pushed:function(){z.addClass(A.pushed)},pushable:function(){z.addClass(A.pushable)},dimmed:function(){q.addClass(A.dimmed)},active:function(){O.addClass(A.active)},animating:function(){O.addClass(A.animating)},transition:function(e){e=e||w.get.transition(),O.addClass(e)},direction:function(e){e=e||w.get.direction(),O.addClass(A[e])},visible:function(){O.addClass(A.visible)},overlay:function(){O.addClass(A.overlay)}},remove:{inlineCSS:function(){w.debug("Removing inline css styles",s),s&&s.length>0&&s.remove()},ios:function(){l.removeClass(A.ios)},pushed:function(){z.removeClass(A.pushed)},pushable:function(){z.removeClass(A.pushable)},active:function(){O.removeClass(A.active)},animating:function(){O.removeClass(A.animating)},transition:function(e){e=e||w.get.transition(),O.removeClass(e)},direction:function(e){e=e||w.get.direction(),O.removeClass(A[e])},visible:function(){O.removeClass(A.visible)},overlay:function(){O.removeClass(A.overlay)}},get:{direction:function(){return O.hasClass(A.top)?A.top:O.hasClass(A.right)?A.right:O.hasClass(A.bottom)?A.bottom:A.left},transition:function(){var e,n=w.get.direction();return e=w.is.mobile()?"auto"==T.mobileTransition?T.defaultTransition.mobile[n]:T.mobileTransition:"auto"==T.transition?T.defaultTransition.computer[n]:T.transition,w.verbose("Determined transition",e),e},transitionEvent:function(){var e,n=t.createElement("element"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(n.style[e]!==i)return o[e]}},is:{ie:function(){var e=!n.ActiveXObject&&"ActiveXObject"in n,t="ActiveXObject"in n;return e||t},ios:function(){var e=navigator.userAgent,n=e.match(k.ios),t=e.match(k.mobileChrome);return!(!n||t)&&(w.verbose("Browser was found to be iOS",e),!0)},mobile:function(){var e=navigator.userAgent,n=e.match(k.mobile);return n?(w.verbose("Browser was found to be mobile",e),!0):(w.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!w.is.visible()},visible:function(){return O.hasClass(A.visible)},open:function(){return w.is.visible()},closed:function(){return w.is.hidden()},vertical:function(){return O.hasClass(A.top)},animating:function(){return z.hasClass(A.animating)},rtl:function(){return w.cache.rtl===i&&(w.cache.rtl="rtl"==O.css("direction")),w.cache.rtl}},setting:function(n,t){if(w.debug("Changing setting",n,t),e.isPlainObject(n))e.extend(!0,T,n);else{if(t===i)return T[n];e.isPlainObject(T[n])?e.extend(!0,T[n],t):T[n]=t}},internal:function(n,t){if(e.isPlainObject(n))e.extend(!0,w,n);else{if(t===i)return w[n];w[n]=t}},debug:function(){!T.silent&&T.debug&&(T.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,T.name+":"),w.debug.apply(console,arguments)))},verbose:function(){!T.silent&&T.verbose&&T.debug&&(T.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,T.name+":"),w.verbose.apply(console,arguments)))},error:function(){T.silent||(w.error=Function.prototype.bind.call(console.error,console,T.name+":"),w.error.apply(console,arguments))},performance:{log:function(e){var n,t,i;T.performance&&(n=(new Date).getTime(),i=f||n,t=n-i,f=n,m.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:j,"Execution Time":t})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var n=T.name+":",t=0;f=!1,clearTimeout(w.performance.timer),e.each(m,function(e,n){t+=n["Execution Time"]}),n+=" "+t+"ms",d&&(n+=" '"+d+"'"),(console.group!==i||console.table!==i)&&m.length>0&&(console.groupCollapsed(n),console.table?console.table(m):e.each(m,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(n,t,o){var s,r,c,l=M;return t=t||p,o=j||o,"string"==typeof n&&l!==i&&(n=n.split(/[\. ]/),s=n.length-1,e.each(n,function(t,o){var a=t!=s?o+n[t+1].charAt(0).toUpperCase()+n[t+1].slice(1):n;if(e.isPlainObject(l[a])&&t!=s)l=l[a];else{if(l[a]!==i)return r=l[a],!1;if(!e.isPlainObject(l[o])||t==s)return l[o]!==i?(r=l[o],!1):(w.error(R.method,n),!1);l=l[o]}})),e.isFunction(r)?c=r.apply(o,t):r!==i&&(c=r),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),r}},b?(M===i&&w.initialize(),w.invoke(g)):(M!==i&&w.invoke("destroy"),w.initialize())}),a!==i?a:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(e,n,t,i){"use strict";n="undefined"!=typeof n&&n.Math==Math?n:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.transition=function(){var o,a=e(this),s=a.selector||"",r=(new Date).getTime(),c=[],l=arguments,u=l[0],d=[].slice.call(arguments,1),f="string"==typeof u;n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)};return a.each(function(n){var m,g,b,p,v,h,y,x,C,w=e(this),T=this;C={initialize:function(){m=C.get.settings.apply(T,l),p=m.className,b=m.error,v=m.metadata,x="."+m.namespace,y="module-"+m.namespace,g=w.data(y)||C,h=C.get.animationEndEvent(),f&&(f=C.invoke(u)),f===!1&&(C.verbose("Converted arguments into settings object",m),m.interval?C.delay(m.animate):C.animate(),C.instantiate())},instantiate:function(){C.verbose("Storing instance of module",C),g=C,w.data(y,g)},destroy:function(){C.verbose("Destroying previous module for",T),w.removeData(y)},refresh:function(){C.verbose("Refreshing display type on next animation"),delete C.displayType},forceRepaint:function(){C.verbose("Forcing element repaint");var e=w.parent(),n=w.next();0===n.length?w.detach().appendTo(e):w.detach().insertBefore(n)},repaint:function(){C.verbose("Repainting element");T.offsetWidth},delay:function(e){var t,o,s=C.get.animationDirection();s||(s=C.can.transition()?C.get.direction():"static"),e=e!==i?e:m.interval,t="auto"==m.reverse&&s==p.outward,o=t||1==m.reverse?(a.length-n)*m.interval:n*m.interval,C.debug("Delaying animation by",o),setTimeout(C.animate,o)},animate:function(e){if(m=e||m,!C.is.supported())return C.error(b.support),!1;if(C.debug("Preparing animation",m.animation),C.is.animating()){if(m.queue)return!m.allowRepeats&&C.has.direction()&&C.is.occurring()&&C.queuing!==!0?C.debug("Animation is currently occurring, preventing queueing same animation",m.animation):C.queue(m.animation),!1;if(!m.allowRepeats&&C.is.occurring())return C.debug("Animation is already occurring, will not execute repeated animation",m.animation),!1;C.debug("New animation started, completing previous early",m.animation),g.complete()}C.can.animate()?C.set.animating(m.animation):C.error(b.noAnimation,m.animation,T)},reset:function(){C.debug("Resetting animation to beginning conditions"),C.remove.animationCallbacks(),C.restore.conditions(),C.remove.animating()},queue:function(e){C.debug("Queueing animation of",e),C.queuing=!0,w.one(h+".queue"+x,function(){C.queuing=!1,C.repaint(),C.animate.apply(this,m)})},complete:function(e){C.debug("Animation complete",m.animation),C.remove.completeCallback(),C.remove.failSafe(),C.is.looping()||(C.is.outward()?(C.verbose("Animation is outward, hiding element"),C.restore.conditions(),C.hide()):C.is.inward()?(C.verbose("Animation is outward, showing element"),C.restore.conditions(),C.show()):(C.verbose("Static animation completed"),C.restore.conditions(),m.onComplete.call(T)))},force:{visible:function(){var e=w.attr("style"),n=C.get.userStyle(),t=C.get.displayType(),o=n+"display: "+t+" !important;",a=w.css("display"),s=e===i||""===e;a!==t?(C.verbose("Overriding default display to show element",t),w.attr("style",o)):s&&w.removeAttr("style")},hidden:function(){var e=w.attr("style"),n=w.css("display"),t=e===i||""===e;"none"===n||C.is.hidden()?t&&w.removeAttr("style"):(C.verbose("Overriding default display to hide element"),w.css("display","none"))}},has:{direction:function(n){var t=!1;return n=n||m.animation,"string"==typeof n&&(n=n.split(" "),e.each(n,function(e,n){n!==p.inward&&n!==p.outward||(t=!0)})),t},inlineDisplay:function(){var n=w.attr("style")||"";return e.isArray(n.match(/display.*?;/,""))}},set:{animating:function(e){var n;C.remove.completeCallback(),e=e||m.animation,n=C.get.animationClass(e),C.save.animation(n),C.force.visible(),C.remove.hidden(),C.remove.direction(),C.start.animation(n)},duration:function(e,n){n=n||m.duration,n="number"==typeof n?n+"ms":n,(n||0===n)&&(C.verbose("Setting animation duration",n),w.css({"animation-duration":n}))},direction:function(e){e=e||C.get.direction(),e==p.inward?C.set.inward():C.set.outward()},looping:function(){C.debug("Transition set to loop"),w.addClass(p.looping)},hidden:function(){w.addClass(p.transition).addClass(p.hidden)},inward:function(){C.debug("Setting direction to inward"),w.removeClass(p.outward).addClass(p.inward)},outward:function(){C.debug("Setting direction to outward"),w.removeClass(p.inward).addClass(p.outward)},visible:function(){w.addClass(p.transition).addClass(p.visible)}},start:{animation:function(e){e=e||C.get.animationClass(),C.debug("Starting tween",e),w.addClass(e).one(h+".complete"+x,C.complete),m.useFailSafe&&C.add.failSafe(),C.set.duration(m.duration),m.onStart.call(T)}},save:{animation:function(e){C.cache||(C.cache={}),C.cache.animation=e},displayType:function(e){"none"!==e&&w.data(v.displayType,e)},transitionExists:function(n,t){e.fn.transition.exists[n]=t,C.verbose("Saving existence of transition",n,t)}},restore:{conditions:function(){var e=C.get.currentAnimation();e&&(w.removeClass(e),C.verbose("Removing animation class",C.cache)),C.remove.duration()}},add:{failSafe:function(){var e=C.get.duration();C.timer=setTimeout(function(){w.triggerHandler(h)},e+m.failSafeDelay),C.verbose("Adding fail safe timer",C.timer)}},remove:{animating:function(){w.removeClass(p.animating)},animationCallbacks:function(){C.remove.queueCallback(),C.remove.completeCallback()},queueCallback:function(){w.off(".queue"+x)},completeCallback:function(){w.off(".complete"+x)},display:function(){w.css("display","")},direction:function(){w.removeClass(p.inward).removeClass(p.outward)},duration:function(){w.css("animation-duration","")},failSafe:function(){C.verbose("Removing fail safe timer",C.timer),C.timer&&clearTimeout(C.timer)},hidden:function(){w.removeClass(p.hidden)},visible:function(){w.removeClass(p.visible)},looping:function(){C.debug("Transitions are no longer looping"),C.is.looping()&&(C.reset(),w.removeClass(p.looping))},transition:function(){w.removeClass(p.visible).removeClass(p.hidden)}},get:{settings:function(n,t,i){return"object"==typeof n?e.extend(!0,{},e.fn.transition.settings,n):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:n,onComplete:i,duration:t}):"string"==typeof t||"number"==typeof t?e.extend({},e.fn.transition.settings,{animation:n,duration:t}):"object"==typeof t?e.extend({},e.fn.transition.settings,t,{animation:n}):"function"==typeof t?e.extend({},e.fn.transition.settings,{animation:n,onComplete:t}):e.extend({},e.fn.transition.settings,{animation:n})},animationClass:function(e){var n=e||m.animation,t=C.can.transition()&&!C.has.direction()?C.get.direction()+" ":"";return p.animating+" "+p.transition+" "+t+n},currentAnimation:function(){return!(!C.cache||C.cache.animation===i)&&C.cache.animation},currentDirection:function(){return C.is.inward()?p.inward:p.outward},direction:function(){return C.is.hidden()||!C.is.visible()?p.inward:p.outward},animationDirection:function(n){var t;return n=n||m.animation,"string"==typeof n&&(n=n.split(" "),e.each(n,function(e,n){n===p.inward?t=p.inward:n===p.outward&&(t=p.outward)})),!!t&&t},duration:function(e){return e=e||m.duration,e===!1&&(e=w.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(e){return e=e===i||e,m.displayType?m.displayType:(e&&w.data(v.displayType)===i&&C.can.transition(!0),w.data(v.displayType))},userStyle:function(e){return e=e||w.attr("style")||"",e.replace(/display.*?;/,"")},transitionExists:function(n){return e.fn.transition.exists[n]},animationStartEvent:function(){var e,n=t.createElement("div"),o={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in o)if(n.style[e]!==i)return o[e];return!1},animationEndEvent:function(){var e,n=t.createElement("div"),o={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in o)if(n.style[e]!==i)return o[e];return!1}},can:{transition:function(n){var t,o,a,s,r,c,l=m.animation,u=C.get.transitionExists(l),d=C.get.displayType(!1);if(u===i||n){if(C.verbose("Determining whether animation exists"),t=w.attr("class"),o=w.prop("tagName"),a=e("<"+o+" />").addClass(t).insertAfter(w),s=a.addClass(l).removeClass(p.inward).removeClass(p.outward).addClass(p.animating).addClass(p.transition).css("animationName"),r=a.addClass(p.inward).css("animationName"),d||(d=a.attr("class",t).removeAttr("style").removeClass(p.hidden).removeClass(p.visible).show().css("display"),C.verbose("Determining final display state",d),C.save.displayType(d)),a.remove(),s!=r)C.debug("Direction exists for animation",l),c=!0;else{if("none"==s||!s)return void C.debug("No animation defined in css",l);C.debug("Static animation found",l,d),c=!1}C.save.transitionExists(l,c)}return u!==i?u:c},animate:function(){return C.can.transition()!==i}},is:{animating:function(){return w.hasClass(p.animating)},inward:function(){return w.hasClass(p.inward)},outward:function(){return w.hasClass(p.outward)},looping:function(){return w.hasClass(p.looping)},occurring:function(e){return e=e||m.animation,e="."+e.replace(" ","."),w.filter(e).length>0},visible:function(){return w.is(":visible")},hidden:function(){return"hidden"===w.css("visibility")},supported:function(){return h!==!1}},hide:function(){C.verbose("Hiding element"),C.is.animating()&&C.reset(),T.blur(),C.remove.display(),C.remove.visible(),C.set.hidden(),C.force.hidden(),m.onHide.call(T),m.onComplete.call(T)},show:function(e){C.verbose("Showing element",e),C.remove.hidden(),C.set.visible(),C.force.visible(),m.onShow.call(T),m.onComplete.call(T)},toggle:function(){C.is.visible()?C.hide():C.show()},stop:function(){C.debug("Stopping current animation"),w.triggerHandler(h)},stopAll:function(){C.debug("Stopping all animation"),C.remove.queueCallback(),w.triggerHandler(h)},clear:{queue:function(){C.debug("Clearing animation queue"),C.remove.queueCallback()}},enable:function(){C.verbose("Starting animation"),w.removeClass(p.disabled)},disable:function(){C.debug("Stopping animation"),w.addClass(p.disabled)},setting:function(n,t){if(C.debug("Changing setting",n,t),e.isPlainObject(n))e.extend(!0,m,n);else{if(t===i)return m[n];e.isPlainObject(m[n])?e.extend(!0,m[n],t):m[n]=t}},internal:function(n,t){if(e.isPlainObject(n))e.extend(!0,C,n);else{if(t===i)return C[n];C[n]=t}},debug:function(){!m.silent&&m.debug&&(m.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,m.name+":"),C.debug.apply(console,arguments)))},verbose:function(){!m.silent&&m.verbose&&m.debug&&(m.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),C.verbose.apply(console,arguments)))},error:function(){m.silent||(C.error=Function.prototype.bind.call(console.error,console,m.name+":"),C.error.apply(console,arguments))},performance:{log:function(e){var n,t,i;m.performance&&(n=(new Date).getTime(),i=r||n,t=n-i,r=n,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":t})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var n=m.name+":",t=0;r=!1,clearTimeout(C.performance.timer),e.each(c,function(e,n){t+=n["Execution Time"]}),n+=" "+t+"ms",s&&(n+=" '"+s+"'"),a.length>1&&(n+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(n),console.table?console.table(c):e.each(c,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(n,t,a){var s,r,c,l=g;return t=t||d,a=T||a,"string"==typeof n&&l!==i&&(n=n.split(/[\. ]/),s=n.length-1,e.each(n,function(t,o){var a=t!=s?o+n[t+1].charAt(0).toUpperCase()+n[t+1].slice(1):n;if(e.isPlainObject(l[a])&&t!=s)l=l[a];else{if(l[a]!==i)return r=l[a],!1;if(!e.isPlainObject(l[o])||t==s)return l[o]!==i&&(r=l[o],!1);l=l[o]}})),e.isFunction(r)?c=r.apply(a,t):r!==i&&(c=r),e.isArray(o)?o.push(c):o!==i?o=[o,c]:c!==i&&(o=c),r!==i&&r}},C.initialize()}),o!==i?o:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,
reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(e,n,t,i){"use strict";n="undefined"!=typeof n&&n.Math==Math?n:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.state=function(n){var o,a=e(this),s=a.selector||"",r=("ontouchstart"in t.documentElement,(new Date).getTime()),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var t,f=e.isPlainObject(n)?e.extend(!0,{},e.fn.state.settings,n):e.extend({},e.fn.state.settings),m=f.error,g=f.metadata,b=f.className,p=f.namespace,v=f.states,h=f.text,y="."+p,x=p+"-module",C=e(this),w=this,T=C.data(x);t={initialize:function(){t.verbose("Initializing module"),f.automatic&&t.add.defaults(),f.context&&""!==s?e(f.context).on(s,"mouseenter"+y,t.change.text).on(s,"mouseleave"+y,t.reset.text).on(s,"click"+y,t.toggle.state):C.on("mouseenter"+y,t.change.text).on("mouseleave"+y,t.reset.text).on("click"+y,t.toggle.state),t.instantiate()},instantiate:function(){t.verbose("Storing instance of module",t),T=t,C.data(x,t)},destroy:function(){t.verbose("Destroying previous module",T),C.off(y).removeData(x)},refresh:function(){t.verbose("Refreshing selector cache"),C=e(w)},add:{defaults:function(){var o=n&&e.isPlainObject(n.states)?n.states:{};e.each(f.defaults,function(n,a){t.is[n]!==i&&t.is[n]()&&(t.verbose("Adding default states",n,w),e.extend(f.states,a,o))})}},is:{active:function(){return C.hasClass(b.active)},loading:function(){return C.hasClass(b.loading)},inactive:function(){return!C.hasClass(b.active)},state:function(e){return b[e]!==i&&C.hasClass(b[e])},enabled:function(){return!C.is(f.filter.active)},disabled:function(){return C.is(f.filter.active)},textEnabled:function(){return!C.is(f.filter.text)},button:function(){return C.is(".button:not(a, .submit)")},input:function(){return C.is("input")},progress:function(){return C.is(".ui.progress")}},allow:function(e){t.debug("Now allowing state",e),v[e]=!0},disallow:function(e){t.debug("No longer allowing",e),v[e]=!1},allows:function(e){return v[e]||!1},enable:function(){C.removeClass(b.disabled)},disable:function(){C.addClass(b.disabled)},setState:function(e){t.allows(e)&&C.addClass(b[e])},removeState:function(e){t.allows(e)&&C.removeClass(b[e])},toggle:{state:function(){var n,o;if(t.allows("active")&&t.is.enabled()){if(t.refresh(),e.fn.api!==i)if(n=C.api("get request"),o=C.api("was cancelled"))t.debug("API Request cancelled by beforesend"),f.activateTest=function(){return!1},f.deactivateTest=function(){return!1};else if(n)return void t.listenTo(n);t.change.state()}}},listenTo:function(n){t.debug("API request detected, waiting for state signal",n),n&&(h.loading&&t.update.text(h.loading),e.when(n).then(function(){"resolved"==n.state()?(t.debug("API request succeeded"),f.activateTest=function(){return!0},f.deactivateTest=function(){return!0}):(t.debug("API request failed"),f.activateTest=function(){return!1},f.deactivateTest=function(){return!1}),t.change.state()}))},change:{state:function(){t.debug("Determining state change direction"),t.is.inactive()?t.activate():t.deactivate(),f.sync&&t.sync(),f.onChange.call(w)},text:function(){t.is.textEnabled()&&(t.is.disabled()?(t.verbose("Changing text to disabled text",h.hover),t.update.text(h.disabled)):t.is.active()?h.hover?(t.verbose("Changing text to hover text",h.hover),t.update.text(h.hover)):h.deactivate&&(t.verbose("Changing text to deactivating text",h.deactivate),t.update.text(h.deactivate)):h.hover?(t.verbose("Changing text to hover text",h.hover),t.update.text(h.hover)):h.activate&&(t.verbose("Changing text to activating text",h.activate),t.update.text(h.activate)))}},activate:function(){f.activateTest.call(w)&&(t.debug("Setting state to active"),C.addClass(b.active),t.update.text(h.active),f.onActivate.call(w))},deactivate:function(){f.deactivateTest.call(w)&&(t.debug("Setting state to inactive"),C.removeClass(b.active),t.update.text(h.inactive),f.onDeactivate.call(w))},sync:function(){t.verbose("Syncing other buttons to current state"),t.is.active()?a.not(C).state("activate"):a.not(C).state("deactivate")},get:{text:function(){return f.selector.text?C.find(f.selector.text).text():C.html()},textFor:function(e){return h[e]||!1}},flash:{text:function(e,n,i){var o=t.get.text();t.debug("Flashing text message",e,n),e=e||f.text.flash,n=n||f.flashDuration,i=i||function(){},t.update.text(e),setTimeout(function(){t.update.text(o),i.call(w)},n)}},reset:{text:function(){var e=h.active||C.data(g.storedText),n=h.inactive||C.data(g.storedText);t.is.textEnabled()&&(t.is.active()&&e?(t.verbose("Resetting active text",e),t.update.text(e)):n&&(t.verbose("Resetting inactive text",e),t.update.text(n)))}},update:{text:function(e){var n=t.get.text();e&&e!==n?(t.debug("Updating text",e),f.selector.text?C.data(g.storedText,e).find(f.selector.text).text(e):C.data(g.storedText,e).html(e)):t.debug("Text is already set, ignoring update",e)}},setting:function(n,o){if(t.debug("Changing setting",n,o),e.isPlainObject(n))e.extend(!0,f,n);else{if(o===i)return f[n];e.isPlainObject(f[n])?e.extend(!0,f[n],o):f[n]=o}},internal:function(n,o){if(e.isPlainObject(n))e.extend(!0,t,n);else{if(o===i)return t[n];t[n]=o}},debug:function(){!f.silent&&f.debug&&(f.performance?t.performance.log(arguments):(t.debug=Function.prototype.bind.call(console.info,console,f.name+":"),t.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?t.performance.log(arguments):(t.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),t.verbose.apply(console,arguments)))},error:function(){f.silent||(t.error=Function.prototype.bind.call(console.error,console,f.name+":"),t.error.apply(console,arguments))},performance:{log:function(e){var n,i,o;f.performance&&(n=(new Date).getTime(),o=r||n,i=n-o,r=n,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:w,"Execution Time":i})),clearTimeout(t.performance.timer),t.performance.timer=setTimeout(t.performance.display,500)},display:function(){var n=f.name+":",o=0;r=!1,clearTimeout(t.performance.timer),e.each(c,function(e,n){o+=n["Execution Time"]}),n+=" "+o+"ms",s&&(n+=" '"+s+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(n),console.table?console.table(c):e.each(c,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(n,a,s){var r,c,l,u=T;return a=a||d,s=w||s,"string"==typeof n&&u!==i&&(n=n.split(/[\. ]/),r=n.length-1,e.each(n,function(o,a){var s=o!=r?a+n[o+1].charAt(0).toUpperCase()+n[o+1].slice(1):n;if(e.isPlainObject(u[s])&&o!=r)u=u[s];else{if(u[s]!==i)return c=u[s],!1;if(!e.isPlainObject(u[a])||o==r)return u[a]!==i?(c=u[a],!1):(t.error(m.method,n),!1);u=u[a]}})),e.isFunction(c)?l=c.apply(s,a):c!==i&&(l=c),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),c}},u?(T===i&&t.initialize(),t.invoke(l)):(T!==i&&T.invoke("destroy"),t.initialize())}),o!==i?o:this},e.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(e,n,t,i){"use strict";n="undefined"!=typeof n&&n.Math==Math?n:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.visibility=function(o){var a,s=e(this),r=s.selector||"",c=(new Date).getTime(),l=[],u=arguments[0],d="string"==typeof u,f=[].slice.call(arguments,1),m=s.length,g=0;return s.each(function(){var s,b,p,v,h=e.isPlainObject(o)?e.extend(!0,{},e.fn.visibility.settings,o):e.extend({},e.fn.visibility.settings),y=h.className,x=h.namespace,C=h.error,w=h.metadata,T="."+x,S="module-"+x,A=e(n),P=e(this),k=e(h.context),R=(P.selector||"",P.data(S)),E=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)},F=this,O=!1;v={initialize:function(){v.debug("Initializing",h),v.setup.cache(),v.should.trackChanges()&&("image"==h.type&&v.setup.image(),"fixed"==h.type&&v.setup.fixed(),h.observeChanges&&v.observeChanges(),v.bind.events()),v.save.position(),v.is.visible()||v.error(C.visible,P),h.initialCheck&&v.checkVisibility(),v.instantiate()},instantiate:function(){v.debug("Storing instance",v),P.data(S,v),R=v},destroy:function(){v.verbose("Destroying previous module"),p&&p.disconnect(),b&&b.disconnect(),A.off("load"+T,v.event.load).off("resize"+T,v.event.resize),k.off("scroll"+T,v.event.scroll).off("scrollchange"+T,v.event.scrollchange),"fixed"==h.type&&(v.resetFixed(),v.remove.placeholder()),P.off(T).removeData(S)},observeChanges:function(){"MutationObserver"in n&&(b=new MutationObserver(v.event.contextChanged),p=new MutationObserver(v.event.changed),b.observe(t,{childList:!0,subtree:!0}),p.observe(F,{childList:!0,subtree:!0}),v.debug("Setting up mutation observer",p))},bind:{events:function(){v.verbose("Binding visibility events to scroll and resize"),h.refreshOnLoad&&A.on("load"+T,v.event.load),A.on("resize"+T,v.event.resize),k.off("scroll"+T).on("scroll"+T,v.event.scroll).on("scrollchange"+T,v.event.scrollchange)}},event:{changed:function(e){v.verbose("DOM tree modified, updating visibility calculations"),v.timer=setTimeout(function(){v.verbose("DOM tree modified, updating sticky menu"),v.refresh()},100)},contextChanged:function(n){[].forEach.call(n,function(n){n.removedNodes&&[].forEach.call(n.removedNodes,function(n){(n==F||e(n).find(F).length>0)&&(v.debug("Element removed from DOM, tearing down events"),v.destroy())})})},resize:function(){v.debug("Window resized"),h.refreshOnResize&&E(v.refresh)},load:function(){v.debug("Page finished loading"),E(v.refresh)},scroll:function(){h.throttle?(clearTimeout(v.timer),v.timer=setTimeout(function(){k.triggerHandler("scrollchange"+T,[k.scrollTop()])},h.throttle)):E(function(){k.triggerHandler("scrollchange"+T,[k.scrollTop()])})},scrollchange:function(e,n){v.checkVisibility(n)}},precache:function(n,i){n instanceof Array||(n=[n]);for(var o=n.length,a=0,s=[],r=t.createElement("img"),c=function(){a++,a>=n.length&&e.isFunction(i)&&i()};o--;)r=t.createElement("img"),r.onload=c,r.onerror=c,r.src=n[o],s.push(r)},enableCallbacks:function(){v.debug("Allowing callbacks to occur"),O=!1},disableCallbacks:function(){v.debug("Disabling all callbacks temporarily"),O=!0},should:{trackChanges:function(){return d?(v.debug("One time query, no need to bind events"),!1):(v.debug("Callbacks being attached"),!0)}},setup:{cache:function(){v.cache={occurred:{},screen:{},element:{}}},image:function(){var e=P.data(w.src);e&&(v.verbose("Lazy loading image",e),h.once=!0,h.observeChanges=!1,h.onOnScreen=function(){v.debug("Image on screen",F),v.precache(e,function(){v.set.image(e,function(){g++,g==m&&h.onAllLoaded.call(this),h.onLoad.call(this)})})})},fixed:function(){v.debug("Setting up fixed"),h.once=!1,h.observeChanges=!1,h.initialCheck=!0,h.refreshOnLoad=!0,o.transition||(h.transition=!1),v.create.placeholder(),v.debug("Added placeholder",s),h.onTopPassed=function(){v.debug("Element passed, adding fixed position",P),v.show.placeholder(),v.set.fixed(),h.transition&&e.fn.transition!==i&&P.transition(h.transition,h.duration)},h.onTopPassedReverse=function(){v.debug("Element returned to position, removing fixed",P),v.hide.placeholder(),v.remove.fixed()}}},create:{placeholder:function(){v.verbose("Creating fixed position placeholder"),s=P.clone(!1).css("display","none").addClass(y.placeholder).insertAfter(P)}},show:{placeholder:function(){v.verbose("Showing placeholder"),s.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){v.verbose("Hiding placeholder"),s.css("display","none").css("visibility","")}},set:{fixed:function(){v.verbose("Setting element to fixed position"),P.addClass(y.fixed).css({position:"fixed",top:h.offset+"px",left:"auto",zIndex:h.zIndex}),h.onFixed.call(F)},image:function(n,t){P.attr("src",n),h.transition?e.fn.transition!==i?P.transition(h.transition,h.duration,t):P.fadeIn(h.duration,t):P.show()}},is:{onScreen:function(){var e=v.get.elementCalculations();return e.onScreen},offScreen:function(){var e=v.get.elementCalculations();return e.offScreen},visible:function(){return!(!v.cache||!v.cache.element)&&!(0===v.cache.element.width&&0===v.cache.element.offset.top)}},refresh:function(){v.debug("Refreshing constants (width/height)"),"fixed"==h.type&&v.resetFixed(),v.reset(),v.save.position(),h.checkOnRefresh&&v.checkVisibility(),h.onRefresh.call(F)},resetFixed:function(){v.remove.fixed(),v.remove.occurred()},reset:function(){v.verbose("Resetting all cached values"),e.isPlainObject(v.cache)&&(v.cache.screen={},v.cache.element={})},checkVisibility:function(e){v.verbose("Checking visibility of element",v.cache.element),!O&&v.is.visible()&&(v.save.scroll(e),v.save.calculations(),v.passed(),v.passingReverse(),v.topVisibleReverse(),v.bottomVisibleReverse(),v.topPassedReverse(),v.bottomPassedReverse(),v.onScreen(),v.offScreen(),v.passing(),v.topVisible(),v.bottomVisible(),v.topPassed(),v.bottomPassed(),h.onUpdate&&h.onUpdate.call(F,v.get.elementCalculations()))},passed:function(n,t){var o=v.get.elementCalculations();if(n&&t)h.onPassed[n]=t;else{if(n!==i)return v.get.pixelsPassed(n)>o.pixelsPassed;o.passing&&e.each(h.onPassed,function(e,n){o.bottomVisible||o.pixelsPassed>v.get.pixelsPassed(e)?v.execute(n,e):h.once||v.remove.occurred(n)})}},onScreen:function(e){var n=v.get.elementCalculations(),t=e||h.onOnScreen,o="onScreen";if(e&&(v.debug("Adding callback for onScreen",e),h.onOnScreen=e),n.onScreen?v.execute(t,o):h.once||v.remove.occurred(o),e!==i)return n.onOnScreen},offScreen:function(e){var n=v.get.elementCalculations(),t=e||h.onOffScreen,o="offScreen";if(e&&(v.debug("Adding callback for offScreen",e),h.onOffScreen=e),n.offScreen?v.execute(t,o):h.once||v.remove.occurred(o),e!==i)return n.onOffScreen},passing:function(e){var n=v.get.elementCalculations(),t=e||h.onPassing,o="passing";if(e&&(v.debug("Adding callback for passing",e),h.onPassing=e),n.passing?v.execute(t,o):h.once||v.remove.occurred(o),e!==i)return n.passing},topVisible:function(e){var n=v.get.elementCalculations(),t=e||h.onTopVisible,o="topVisible";if(e&&(v.debug("Adding callback for top visible",e),h.onTopVisible=e),n.topVisible?v.execute(t,o):h.once||v.remove.occurred(o),e===i)return n.topVisible},bottomVisible:function(e){var n=v.get.elementCalculations(),t=e||h.onBottomVisible,o="bottomVisible";if(e&&(v.debug("Adding callback for bottom visible",e),h.onBottomVisible=e),n.bottomVisible?v.execute(t,o):h.once||v.remove.occurred(o),e===i)return n.bottomVisible},topPassed:function(e){var n=v.get.elementCalculations(),t=e||h.onTopPassed,o="topPassed";if(e&&(v.debug("Adding callback for top passed",e),h.onTopPassed=e),n.topPassed?v.execute(t,o):h.once||v.remove.occurred(o),e===i)return n.topPassed},bottomPassed:function(e){var n=v.get.elementCalculations(),t=e||h.onBottomPassed,o="bottomPassed";if(e&&(v.debug("Adding callback for bottom passed",e),h.onBottomPassed=e),n.bottomPassed?v.execute(t,o):h.once||v.remove.occurred(o),e===i)return n.bottomPassed},passingReverse:function(e){var n=v.get.elementCalculations(),t=e||h.onPassingReverse,o="passingReverse";if(e&&(v.debug("Adding callback for passing reverse",e),h.onPassingReverse=e),n.passing?h.once||v.remove.occurred(o):v.get.occurred("passing")&&v.execute(t,o),e!==i)return!n.passing},topVisibleReverse:function(e){var n=v.get.elementCalculations(),t=e||h.onTopVisibleReverse,o="topVisibleReverse";if(e&&(v.debug("Adding callback for top visible reverse",e),h.onTopVisibleReverse=e),n.topVisible?h.once||v.remove.occurred(o):v.get.occurred("topVisible")&&v.execute(t,o),e===i)return!n.topVisible},bottomVisibleReverse:function(e){var n=v.get.elementCalculations(),t=e||h.onBottomVisibleReverse,o="bottomVisibleReverse";if(e&&(v.debug("Adding callback for bottom visible reverse",e),h.onBottomVisibleReverse=e),n.bottomVisible?h.once||v.remove.occurred(o):v.get.occurred("bottomVisible")&&v.execute(t,o),e===i)return!n.bottomVisible},topPassedReverse:function(e){var n=v.get.elementCalculations(),t=e||h.onTopPassedReverse,o="topPassedReverse";if(e&&(v.debug("Adding callback for top passed reverse",e),h.onTopPassedReverse=e),n.topPassed?h.once||v.remove.occurred(o):v.get.occurred("topPassed")&&v.execute(t,o),e===i)return!n.onTopPassed},bottomPassedReverse:function(e){var n=v.get.elementCalculations(),t=e||h.onBottomPassedReverse,o="bottomPassedReverse";if(e&&(v.debug("Adding callback for bottom passed reverse",e),h.onBottomPassedReverse=e),n.bottomPassed?h.once||v.remove.occurred(o):v.get.occurred("bottomPassed")&&v.execute(t,o),e===i)return!n.bottomPassed},execute:function(e,n){var t=v.get.elementCalculations(),i=v.get.screenCalculations();e=e||!1,e&&(h.continuous?(v.debug("Callback being called continuously",n,t),e.call(F,t,i)):v.get.occurred(n)||(v.debug("Conditions met",n,t),e.call(F,t,i))),v.save.occurred(n)},remove:{fixed:function(){v.debug("Removing fixed position"),P.removeClass(y.fixed).css({position:"",top:"",left:"",zIndex:""}),h.onUnfixed.call(F)},placeholder:function(){v.debug("Removing placeholder content"),s&&s.remove()},occurred:function(e){if(e){var n=v.cache.occurred;n[e]!==i&&n[e]===!0&&(v.debug("Callback can now be called again",e),v.cache.occurred[e]=!1)}else v.cache.occurred={}}},save:{calculations:function(){v.verbose("Saving all calculations necessary to determine positioning"),v.save.direction(),v.save.screenCalculations(),v.save.elementCalculations()},occurred:function(e){e&&(v.cache.occurred[e]!==i&&v.cache.occurred[e]===!0||(v.verbose("Saving callback occurred",e),v.cache.occurred[e]=!0))},scroll:function(e){e=e+h.offset||k.scrollTop()+h.offset,v.cache.scroll=e},direction:function(){var e,n=v.get.scroll(),t=v.get.lastScroll();return e=n>t&&t?"down":n<t&&t?"up":"static",v.cache.direction=e,v.cache.direction},elementPosition:function(){var e=v.cache.element,n=v.get.screenSize();return v.verbose("Saving element position"),e.fits=e.height<n.height,e.offset=P.offset(),e.width=P.outerWidth(),e.height=P.outerHeight(),v.cache.element=e,e},elementCalculations:function(){var e=v.get.screenCalculations(),n=v.get.elementPosition();return h.includeMargin?(n.margin={},n.margin.top=parseInt(P.css("margin-top"),10),n.margin.bottom=parseInt(P.css("margin-bottom"),10),n.top=n.offset.top-n.margin.top,n.bottom=n.offset.top+n.height+n.margin.bottom):(n.top=n.offset.top,n.bottom=n.offset.top+n.height),n.topVisible=e.bottom>=n.top,n.topPassed=e.top>=n.top,n.bottomVisible=e.bottom>=n.bottom,n.bottomPassed=e.top>=n.bottom,n.pixelsPassed=0,n.percentagePassed=0,n.onScreen=n.topVisible&&!n.bottomPassed,n.passing=n.topPassed&&!n.bottomPassed,n.offScreen=!n.onScreen,n.passing&&(n.pixelsPassed=e.top-n.top,n.percentagePassed=(e.top-n.top)/n.height),v.cache.element=n,v.verbose("Updated element calculations",n),n},screenCalculations:function(){var e=v.get.scroll();return v.save.direction(),v.cache.screen.top=e,v.cache.screen.bottom=e+v.cache.screen.height,v.cache.screen},screenSize:function(){v.verbose("Saving window position"),v.cache.screen={height:k.height()}},position:function(){v.save.screenSize(),v.save.elementPosition()}},get:{pixelsPassed:function(e){var n=v.get.elementCalculations();return e.search("%")>-1?n.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return v.cache.occurred!==i&&(v.cache.occurred[e]||!1)},direction:function(){return v.cache.direction===i&&v.save.direction(),v.cache.direction},elementPosition:function(){return v.cache.element===i&&v.save.elementPosition(),v.cache.element},elementCalculations:function(){return v.cache.element===i&&v.save.elementCalculations(),v.cache.element},screenCalculations:function(){return v.cache.screen===i&&v.save.screenCalculations(),v.cache.screen},screenSize:function(){return v.cache.screen===i&&v.save.screenSize(),v.cache.screen},scroll:function(){return v.cache.scroll===i&&v.save.scroll(),v.cache.scroll},lastScroll:function(){return v.cache.screen===i?(v.debug("First scroll event, no last scroll could be found"),!1):v.cache.screen.top}},setting:function(n,t){if(e.isPlainObject(n))e.extend(!0,h,n);else{if(t===i)return h[n];h[n]=t}},internal:function(n,t){if(e.isPlainObject(n))e.extend(!0,v,n);else{if(t===i)return v[n];v[n]=t}},debug:function(){!h.silent&&h.debug&&(h.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,h.name+":"),v.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),v.verbose.apply(console,arguments)))},error:function(){h.silent||(v.error=Function.prototype.bind.call(console.error,console,h.name+":"),v.error.apply(console,arguments))},performance:{log:function(e){var n,t,i;h.performance&&(n=(new Date).getTime(),i=c||n,t=n-i,c=n,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:F,"Execution Time":t})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,500)},display:function(){var n=h.name+":",t=0;c=!1,clearTimeout(v.performance.timer),e.each(l,function(e,n){t+=n["Execution Time"]}),n+=" "+t+"ms",r&&(n+=" '"+r+"'"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(n),console.table?console.table(l):e.each(l,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(n,t,o){var s,r,c,l=R;return t=t||f,o=F||o,"string"==typeof n&&l!==i&&(n=n.split(/[\. ]/),s=n.length-1,e.each(n,function(t,o){var a=t!=s?o+n[t+1].charAt(0).toUpperCase()+n[t+1].slice(1):n;if(e.isPlainObject(l[a])&&t!=s)l=l[a];else{if(l[a]!==i)return r=l[a],!1;if(!e.isPlainObject(l[o])||t==s)return l[o]!==i?(r=l[o],!1):(v.error(C.method,n),!1);l=l[o]}})),e.isFunction(r)?c=r.apply(o,t):r!==i&&(c=r),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),r}},d?(R===i&&v.initialize(),R.save.scroll(),R.save.calculations(),v.invoke(u)):(R!==i&&R.invoke("destroy"),v.initialize())}),a!==i?a:this},e.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:n,throttle:!1,type:!1,zIndex:"10",transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onLoad:function(){},onAllLoaded:function(){},onFixed:function(){},onUnfixed:function(){},onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document);