 /*
 * # Semantic UI - 2.2.13
 * https://github.com/Semantic-Org/Semantic-UI
 * http://www.semantic-ui.com/
 *
 * Copyright 2014 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,n,t,i){e.site=e.fn.site=function(i){var o,a,s=(new Date).getTime(),r=[],c=arguments[0],l="string"==typeof c,d=[].slice.call(arguments,1),u=e.isPlainObject(i)?e.extend(!0,{},e.site.settings,i):e.extend({},e.site.settings),f=u.namespace,m=u.error,g="module-"+f,v=e(t),b=this,p=v.data(g);return o={initialize:function(){o.instantiate()},instantiate:function(){o.verbose("Storing instance of site",o),p=o,v.data(g,o)},normalize:function(){o.fix.console(),o.fix.requestAnimationFrame()},fix:{console:function(){o.debug("Normalizing window.console"),void 0!==console&&void 0!==console.log||(o.verbose("Console not available, normalizing events"),o.disable.console()),void 0!==console.group&&void 0!==console.groupEnd&&void 0!==console.groupCollapsed||(o.verbose("Console group not available, normalizing events"),n.console.group=function(){},n.console.groupEnd=function(){},n.console.groupCollapsed=function(){}),void 0===console.markTimeline&&(o.verbose("Mark timeline not available, normalizing events"),n.console.markTimeline=function(){})},consoleClear:function(){o.debug("Disabling programmatic console clearing"),n.console.clear=function(){}},requestAnimationFrame:function(){o.debug("Normalizing requestAnimationFrame"),void 0===n.requestAnimationFrame&&(o.debug("RequestAnimationFrame not available, normalizing event"),n.requestAnimationFrame=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(n){return void 0!==e.fn[n]&&void 0!==e.fn[n].settings},enabled:{modules:function(n){var t=[];return n=n||u.modules,e.each(n,function(e,n){o.moduleExists(n)&&t.push(n)}),t}},disabled:{modules:function(n){var t=[];return n=n||u.modules,e.each(n,function(e,n){o.moduleExists(n)||t.push(n)}),t}},change:{setting:function(n,t,i,a){i="string"==typeof i?"all"===i?u.modules:[i]:i||u.modules,a=void 0===a||a,e.each(i,function(i,s){var r,c=!o.moduleExists(s)||(e.fn[s].settings.namespace||!1);o.moduleExists(s)&&(o.verbose("Changing default setting",n,t,s),e.fn[s].settings[n]=t,a&&c&&(r=e(":data(module-"+c+")")).length>0&&(o.verbose("Modifying existing settings",r),r[s]("setting",n,t)))})},settings:function(n,t,i){t="string"==typeof t?[t]:t||u.modules,i=void 0===i||i,e.each(t,function(t,a){var s;o.moduleExists(a)&&(o.verbose("Changing default setting",n,a),e.extend(!0,e.fn[a].settings,n),i&&f&&(s=e(":data(module-"+f+")")).length>0&&(o.verbose("Modifying existing settings",s),s[a]("setting",n)))})}},enable:{console:function(){o.console(!0)},debug:function(e,n){e=e||u.modules,o.debug("Enabling debug for modules",e),o.change.setting("debug",!0,e,n)},verbose:function(e,n){e=e||u.modules,o.debug("Enabling verbose debug for modules",e),o.change.setting("verbose",!0,e,n)}},disable:{console:function(){o.console(!1)},debug:function(e,n){e=e||u.modules,o.debug("Disabling debug for modules",e),o.change.setting("debug",!1,e,n)},verbose:function(e,n){e=e||u.modules,o.debug("Disabling verbose debug for modules",e),o.change.setting("verbose",!1,e,n)}},console:function(e){if(e){if(void 0===p.cache.console)return void o.error(m.console);o.debug("Restoring console function"),n.console=p.cache.console}else o.debug("Disabling console function"),p.cache.console=n.console,n.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){o.verbose("Destroying previous site for",v),v.removeData(g)},cache:{},setting:function(n,t){if(e.isPlainObject(n))e.extend(!0,u,n);else{if(void 0===t)return u[n];u[n]=t}},internal:function(n,t){if(e.isPlainObject(n))e.extend(!0,o,n);else{if(void 0===t)return o[n];o[n]=t}},debug:function(){u.debug&&(u.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,u.name+":"),o.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,u.name+":"),o.error.apply(console,arguments)},performance:{log:function(e){var n,t;u.performance&&(t=(n=(new Date).getTime())-(s||n),s=n,r.push({Element:b,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":t})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var n=u.name+":",t=0;s=!1,clearTimeout(o.performance.timer),e.each(r,function(e,n){t+=n["Execution Time"]}),n+=" "+t+"ms",(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(n),console.table?console.table(r):e.each(r,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(n,t,i){var s,r,c,l=p;return t=t||d,i=b||i,"string"==typeof n&&void 0!==l&&(n=n.split(/[\. ]/),s=n.length-1,e.each(n,function(t,i){var a=t!=s?i+n[t+1].charAt(0).toUpperCase()+n[t+1].slice(1):n;if(e.isPlainObject(l[a])&&t!=s)l=l[a];else{if(void 0!==l[a])return r=l[a],!1;if(!e.isPlainObject(l[i])||t==s)return void 0!==l[i]?(r=l[i],!1):(o.error(m.method,n),!1);l=l[i]}})),e.isFunction(r)?c=r.apply(i,t):void 0!==r&&(c=r),e.isArray(a)?a.push(c):void 0!==a?a=[a,c]:void 0!==c&&(a=c),r}},l?(void 0===p&&o.initialize(),o.invoke(c)):(void 0!==p&&o.destroy(),o.initialize()),void 0!==a?a:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(n){return function(t){return!!e.data(t,n)}}):function(n,t,i){return!!e.data(n,i[3])}})}(jQuery,window,document),function(e,n,t,i){"use strict";n=void 0!==n&&n.Math==Math?n:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.sidebar=function(i){var o,a=e(this),s=e(n),r=e(t),c=e("html"),l=e("head"),d=a.selector||"",u=(new Date).getTime(),f=[],m=arguments[0],g="string"==typeof m,v=[].slice.call(arguments,1),b=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)};return a.each(function(){var a,p,h,y,x,C,w=e.isPlainObject(i)?e.extend(!0,{},e.fn.sidebar.settings,i):e.extend({},e.fn.sidebar.settings),T=w.selector,S=w.className,P=w.namespace,A=w.regExp,k=w.error,R="."+P,E="module-"+P,F=e(this),O=e(w.context),z=F.children(T.sidebar),V=O.children(T.fixed),D=O.children(T.pusher),q=this,j=F.data(E);C={initialize:function(){C.debug("Initializing sidebar",i),C.create.id(),x=C.get.transitionEvent(),w.delaySetup?b(C.setup.layout):C.setup.layout(),b(function(){C.setup.cache()}),C.instantiate()},instantiate:function(){C.verbose("Storing instance of module",C),j=C,F.data(E,C)},create:{id:function(){h=(Math.random().toString(16)+"000000000").substr(2,8),p="."+h,C.verbose("Creating unique id for element",h)}},destroy:function(){C.verbose("Destroying previous module for",F),F.off(R).removeData(E),C.is.ios()&&C.remove.ios(),O.off(p),s.off(p),r.off(p)},event:{clickaway:function(e){var n=D.find(e.target).length>0||D.is(e.target),t=O.is(e.target);n&&(C.verbose("User clicked on dimmed page"),C.hide()),t&&(C.verbose("User clicked on dimmable context (scaled out page)"),C.hide())},touch:function(e){},containScroll:function(e){q.scrollTop<=0&&(q.scrollTop=1),q.scrollTop+q.offsetHeight>=q.scrollHeight&&(q.scrollTop=q.scrollHeight-q.offsetHeight-1)},scroll:function(n){0===e(n.target).closest(T.sidebar).length&&n.preventDefault()}},bind:{clickaway:function(){C.verbose("Adding clickaway events to context",O),w.closable&&O.on("click"+p,C.event.clickaway).on("touchend"+p,C.event.clickaway)},scrollLock:function(){w.scrollLock&&(C.debug("Disabling page scroll"),s.on("DOMMouseScroll"+p,C.event.scroll)),C.verbose("Adding events to contain sidebar scroll"),r.on("touchmove"+p,C.event.touch),F.on("scroll"+R,C.event.containScroll)}},unbind:{clickaway:function(){C.verbose("Removing clickaway events from context",O),O.off(p)},scrollLock:function(){C.verbose("Removing scroll lock from page"),r.off(p),s.off(p),F.off("scroll"+R)}},add:{inlineCSS:function(){var n,t=C.cache.width||F.outerWidth(),i=C.cache.height||F.outerHeight(),o=C.is.rtl(),s=C.get.direction(),r={left:t,right:-t,top:i,bottom:-i};o&&(C.verbose("RTL detected, flipping widths"),r.left=-t,r.right=t),n="<style>","left"===s||"right"===s?(C.debug("Adding CSS rules for animation distance",t),n+=" .ui.visible."+s+".sidebar ~ .fixed, .ui.visible."+s+".sidebar ~ .pusher {   -webkit-transform: translate3d("+r[s]+"px, 0, 0);           transform: translate3d("+r[s]+"px, 0, 0); }"):"top"!==s&&"bottom"!=s||(n+=" .ui.visible."+s+".sidebar ~ .fixed, .ui.visible."+s+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+r[s]+"px, 0);           transform: translate3d(0, "+r[s]+"px, 0); }"),C.is.ie()&&("left"===s||"right"===s?(C.debug("Adding CSS rules for animation distance",t),n+=" body.pushable > .ui.visible."+s+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+r[s]+"px, 0, 0);           transform: translate3d("+r[s]+"px, 0, 0); }"):"top"!==s&&"bottom"!=s||(n+=" body.pushable > .ui.visible."+s+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+r[s]+"px, 0);           transform: translate3d(0, "+r[s]+"px, 0); }"),n+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),a=e(n+="</style>").appendTo(l),C.debug("Adding sizing css to head",a)}},refresh:function(){C.verbose("Refreshing selector cache"),O=e(w.context),z=O.children(T.sidebar),D=O.children(T.pusher),V=O.children(T.fixed),C.clear.cache()},refreshSidebars:function(){C.verbose("Refreshing other sidebars"),z=O.children(T.sidebar)},repaint:function(){C.verbose("Forcing repaint event"),q.style.display="none";q.offsetHeight;q.scrollTop=q.scrollTop,q.style.display=""},setup:{cache:function(){C.cache={width:F.outerWidth(),height:F.outerHeight(),rtl:"rtl"==F.css("direction")}},layout:function(){0===O.children(T.pusher).length&&(C.debug("Adding wrapper element for sidebar"),C.error(k.pusher),D=e('<div class="pusher" />'),O.children().not(T.omitted).not(z).wrapAll(D),C.refresh()),0!==F.nextAll(T.pusher).length&&F.nextAll(T.pusher)[0]===D[0]||(C.debug("Moved sidebar to correct parent element"),C.error(k.movedSidebar,q),F.detach().prependTo(O),C.refresh()),C.clear.cache(),C.set.pushable(),C.set.direction()}},attachEvents:function(n,t){var i=e(n);t=e.isFunction(C[t])?C[t]:C.toggle,i.length>0?(C.debug("Attaching sidebar events to element",n,t),i.on("click"+R,t)):C.error(k.notFound,n)},show:function(n){if(n=e.isFunction(n)?n:function(){},C.is.hidden()){if(C.refreshSidebars(),w.overlay&&(C.error(k.overlay),w.transition="overlay"),C.refresh(),C.othersActive())if(C.debug("Other sidebars currently visible"),w.exclusive){if("overlay"!=w.transition)return void C.hideOthers(C.show);C.hideOthers()}else w.transition="overlay";C.pushPage(function(){n.call(q),w.onShow.call(q)}),w.onChange.call(q),w.onVisible.call(q)}else C.debug("Sidebar is already visible")},hide:function(n){n=e.isFunction(n)?n:function(){},(C.is.visible()||C.is.animating())&&(C.debug("Hiding sidebar",n),C.refreshSidebars(),C.pullPage(function(){n.call(q),w.onHidden.call(q)}),w.onChange.call(q),w.onHide.call(q))},othersAnimating:function(){return z.not(F).filter("."+S.animating).length>0},othersVisible:function(){return z.not(F).filter("."+S.visible).length>0},othersActive:function(){return C.othersVisible()||C.othersAnimating()},hideOthers:function(e){var n=z.not(F).filter("."+S.visible),t=n.length,i=0;e=e||function(){},n.sidebar("hide",function(){++i==t&&e()})},toggle:function(){C.verbose("Determining toggled direction"),C.is.hidden()?C.show():C.hide()},pushPage:function(n){var t,i,o,a=C.get.transition(),s="overlay"===a||C.othersActive()?F:D;n=e.isFunction(n)?n:function(){},"scale down"==w.transition&&C.scrollToTop(),C.set.transition(a),C.repaint(),t=function(){C.bind.clickaway(),C.add.inlineCSS(),C.set.animating(),C.set.visible()},i=function(){C.set.dimmed()},o=function(e){e.target==s[0]&&(s.off(x+p,o),C.remove.animating(),C.bind.scrollLock(),n.call(q))},s.off(x+p),s.on(x+p,o),b(t),w.dimPage&&!C.othersVisible()&&b(i)},pullPage:function(n){var t,i,o=C.get.transition(),a="overlay"==o||C.othersActive()?F:D;n=e.isFunction(n)?n:function(){},C.verbose("Removing context push state",C.get.direction()),C.unbind.clickaway(),C.unbind.scrollLock(),t=function(){C.set.transition(o),C.set.animating(),C.remove.visible(),w.dimPage&&!C.othersVisible()&&D.removeClass(S.dimmed)},i=function(e){e.target==a[0]&&(a.off(x+p,i),C.remove.animating(),C.remove.transition(),C.remove.inlineCSS(),("scale down"==o||w.returnScroll&&C.is.mobile())&&C.scrollBack(),n.call(q))},a.off(x+p),a.on(x+p,i),b(t)},scrollToTop:function(){C.verbose("Scrolling to top of page to avoid animation issues"),y=e(n).scrollTop(),F.scrollTop(0),n.scrollTo(0,0)},scrollBack:function(){C.verbose("Scrolling back to original page position"),n.scrollTo(0,y)},clear:{cache:function(){C.verbose("Clearing cached dimensions"),C.cache={}}},set:{ios:function(){c.addClass(S.ios)},pushed:function(){O.addClass(S.pushed)},pushable:function(){O.addClass(S.pushable)},dimmed:function(){D.addClass(S.dimmed)},active:function(){F.addClass(S.active)},animating:function(){F.addClass(S.animating)},transition:function(e){e=e||C.get.transition(),F.addClass(e)},direction:function(e){e=e||C.get.direction(),F.addClass(S[e])},visible:function(){F.addClass(S.visible)},overlay:function(){F.addClass(S.overlay)}},remove:{inlineCSS:function(){C.debug("Removing inline css styles",a),a&&a.length>0&&a.remove()},ios:function(){c.removeClass(S.ios)},pushed:function(){O.removeClass(S.pushed)},pushable:function(){O.removeClass(S.pushable)},active:function(){F.removeClass(S.active)},animating:function(){F.removeClass(S.animating)},transition:function(e){e=e||C.get.transition(),F.removeClass(e)},direction:function(e){e=e||C.get.direction(),F.removeClass(S[e])},visible:function(){F.removeClass(S.visible)},overlay:function(){F.removeClass(S.overlay)}},get:{direction:function(){return F.hasClass(S.top)?S.top:F.hasClass(S.right)?S.right:F.hasClass(S.bottom)?S.bottom:S.left},transition:function(){var e,n=C.get.direction();return e=C.is.mobile()?"auto"==w.mobileTransition?w.defaultTransition.mobile[n]:w.mobileTransition:"auto"==w.transition?w.defaultTransition.computer[n]:w.transition,C.verbose("Determined transition",e),e},transitionEvent:function(){var e,n=t.createElement("element"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==n.style[e])return i[e]}},is:{ie:function(){return!n.ActiveXObject&&"ActiveXObject"in n||"ActiveXObject"in n},ios:function(){var e=navigator.userAgent,n=e.match(A.ios),t=e.match(A.mobileChrome);return!(!n||t)&&(C.verbose("Browser was found to be iOS",e),!0)},mobile:function(){var e=navigator.userAgent;return e.match(A.mobile)?(C.verbose("Browser was found to be mobile",e),!0):(C.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!C.is.visible()},visible:function(){return F.hasClass(S.visible)},open:function(){return C.is.visible()},closed:function(){return C.is.hidden()},vertical:function(){return F.hasClass(S.top)},animating:function(){return O.hasClass(S.animating)},rtl:function(){return void 0===C.cache.rtl&&(C.cache.rtl="rtl"==F.css("direction")),C.cache.rtl}},setting:function(n,t){if(C.debug("Changing setting",n,t),e.isPlainObject(n))e.extend(!0,w,n);else{if(void 0===t)return w[n];e.isPlainObject(w[n])?e.extend(!0,w[n],t):w[n]=t}},internal:function(n,t){if(e.isPlainObject(n))e.extend(!0,C,n);else{if(void 0===t)return C[n];C[n]=t}},debug:function(){!w.silent&&w.debug&&(w.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,w.name+":"),C.debug.apply(console,arguments)))},verbose:function(){!w.silent&&w.verbose&&w.debug&&(w.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,w.name+":"),C.verbose.apply(console,arguments)))},error:function(){w.silent||(C.error=Function.prototype.bind.call(console.error,console,w.name+":"),C.error.apply(console,arguments))},performance:{log:function(e){var n,t;w.performance&&(t=(n=(new Date).getTime())-(u||n),u=n,f.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:q,"Execution Time":t})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var n=w.name+":",t=0;u=!1,clearTimeout(C.performance.timer),e.each(f,function(e,n){t+=n["Execution Time"]}),n+=" "+t+"ms",d&&(n+=" '"+d+"'"),(void 0!==console.group||void 0!==console.table)&&f.length>0&&(console.groupCollapsed(n),console.table?console.table(f):e.each(f,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(n,t,i){var a,s,r,c=j;return t=t||v,i=q||i,"string"==typeof n&&void 0!==c&&(n=n.split(/[\. ]/),a=n.length-1,e.each(n,function(t,i){var o=t!=a?i+n[t+1].charAt(0).toUpperCase()+n[t+1].slice(1):n;if(e.isPlainObject(c[o])&&t!=a)c=c[o];else{if(void 0!==c[o])return s=c[o],!1;if(!e.isPlainObject(c[i])||t==a)return void 0!==c[i]?(s=c[i],!1):(C.error(k.method,n),!1);c=c[i]}})),e.isFunction(s)?r=s.apply(i,t):void 0!==s&&(r=s),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),s}},g?(void 0===j&&C.initialize(),C.invoke(m)):(void 0!==j&&C.invoke("destroy"),C.initialize())}),void 0!==o?o:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(e,n,t,i){"use strict";n=void 0!==n&&n.Math==Math?n:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.transition=function(){var i,o=e(this),a=o.selector||"",s=(new Date).getTime(),r=[],c=arguments,l=c[0],d=[].slice.call(arguments,1),u="string"==typeof l;n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame;return o.each(function(n){var f,m,g,v,b,p,h,y,x,C=e(this),w=this;(x={initialize:function(){f=x.get.settings.apply(w,c),v=f.className,g=f.error,b=f.metadata,y="."+f.namespace,h="module-"+f.namespace,m=C.data(h)||x,p=x.get.animationEndEvent(),u&&(u=x.invoke(l)),!1===u&&(x.verbose("Converted arguments into settings object",f),f.interval?x.delay(f.animate):x.animate(),x.instantiate())},instantiate:function(){x.verbose("Storing instance of module",x),m=x,C.data(h,m)},destroy:function(){x.verbose("Destroying previous module for",w),C.removeData(h)},refresh:function(){x.verbose("Refreshing display type on next animation"),delete x.displayType},forceRepaint:function(){x.verbose("Forcing element repaint");var e=C.parent(),n=C.next();0===n.length?C.detach().appendTo(e):C.detach().insertBefore(n)},repaint:function(){x.verbose("Repainting element");w.offsetWidth},delay:function(e){var t,i=x.get.animationDirection();i||(i=x.can.transition()?x.get.direction():"static"),e=void 0!==e?e:f.interval,t="auto"==f.reverse&&i==v.outward||1==f.reverse?(o.length-n)*f.interval:n*f.interval,x.debug("Delaying animation by",t),setTimeout(x.animate,t)},animate:function(e){if(f=e||f,!x.is.supported())return x.error(g.support),!1;if(x.debug("Preparing animation",f.animation),x.is.animating()){if(f.queue)return!f.allowRepeats&&x.has.direction()&&x.is.occurring()&&!0!==x.queuing?x.debug("Animation is currently occurring, preventing queueing same animation",f.animation):x.queue(f.animation),!1;if(!f.allowRepeats&&x.is.occurring())return x.debug("Animation is already occurring, will not execute repeated animation",f.animation),!1;x.debug("New animation started, completing previous early",f.animation),m.complete()}x.can.animate()?x.set.animating(f.animation):x.error(g.noAnimation,f.animation,w)},reset:function(){x.debug("Resetting animation to beginning conditions"),x.remove.animationCallbacks(),x.restore.conditions(),x.remove.animating()},queue:function(e){x.debug("Queueing animation of",e),x.queuing=!0,C.one(p+".queue"+y,function(){x.queuing=!1,x.repaint(),x.animate.apply(this,f)})},complete:function(e){x.debug("Animation complete",f.animation),x.remove.completeCallback(),x.remove.failSafe(),x.is.looping()||(x.is.outward()?(x.verbose("Animation is outward, hiding element"),x.restore.conditions(),x.hide()):x.is.inward()?(x.verbose("Animation is outward, showing element"),x.restore.conditions(),x.show()):(x.verbose("Static animation completed"),x.restore.conditions(),f.onComplete.call(w)))},force:{visible:function(){var e=C.attr("style"),n=x.get.userStyle(),t=x.get.displayType(),i=n+"display: "+t+" !important;",o=C.css("display"),a=void 0===e||""===e;o!==t?(x.verbose("Overriding default display to show element",t),C.attr("style",i)):a&&C.removeAttr("style")},hidden:function(){var e=C.attr("style"),n=C.css("display"),t=void 0===e||""===e;"none"===n||x.is.hidden()?t&&C.removeAttr("style"):(x.verbose("Overriding default display to hide element"),C.css("display","none"))}},has:{direction:function(n){var t=!1;return"string"==typeof(n=n||f.animation)&&(n=n.split(" "),e.each(n,function(e,n){n!==v.inward&&n!==v.outward||(t=!0)})),t},inlineDisplay:function(){var n=C.attr("style")||"";return e.isArray(n.match(/display.*?;/,""))}},set:{animating:function(e){var n;x.remove.completeCallback(),e=e||f.animation,n=x.get.animationClass(e),x.save.animation(n),x.force.visible(),x.remove.hidden(),x.remove.direction(),x.start.animation(n)},duration:function(e,n){((n="number"==typeof(n=n||f.duration)?n+"ms":n)||0===n)&&(x.verbose("Setting animation duration",n),C.css({"animation-duration":n}))},direction:function(e){(e=e||x.get.direction())==v.inward?x.set.inward():x.set.outward()},looping:function(){x.debug("Transition set to loop"),C.addClass(v.looping)},hidden:function(){C.addClass(v.transition).addClass(v.hidden)},inward:function(){x.debug("Setting direction to inward"),C.removeClass(v.outward).addClass(v.inward)},outward:function(){x.debug("Setting direction to outward"),C.removeClass(v.inward).addClass(v.outward)},visible:function(){C.addClass(v.transition).addClass(v.visible)}},start:{animation:function(e){e=e||x.get.animationClass(),x.debug("Starting tween",e),C.addClass(e).one(p+".complete"+y,x.complete),f.useFailSafe&&x.add.failSafe(),x.set.duration(f.duration),f.onStart.call(w)}},save:{animation:function(e){x.cache||(x.cache={}),x.cache.animation=e},displayType:function(e){"none"!==e&&C.data(b.displayType,e)},transitionExists:function(n,t){e.fn.transition.exists[n]=t,x.verbose("Saving existence of transition",n,t)}},restore:{conditions:function(){var e=x.get.currentAnimation();e&&(C.removeClass(e),x.verbose("Removing animation class",x.cache)),x.remove.duration()}},add:{failSafe:function(){var e=x.get.duration();x.timer=setTimeout(function(){C.triggerHandler(p)},e+f.failSafeDelay),x.verbose("Adding fail safe timer",x.timer)}},remove:{animating:function(){C.removeClass(v.animating)},animationCallbacks:function(){x.remove.queueCallback(),x.remove.completeCallback()},queueCallback:function(){C.off(".queue"+y)},completeCallback:function(){C.off(".complete"+y)},display:function(){C.css("display","")},direction:function(){C.removeClass(v.inward).removeClass(v.outward)},duration:function(){C.css("animation-duration","")},failSafe:function(){x.verbose("Removing fail safe timer",x.timer),x.timer&&clearTimeout(x.timer)},hidden:function(){C.removeClass(v.hidden)},visible:function(){C.removeClass(v.visible)},looping:function(){x.debug("Transitions are no longer looping"),x.is.looping()&&(x.reset(),C.removeClass(v.looping))},transition:function(){C.removeClass(v.visible).removeClass(v.hidden)}},get:{settings:function(n,t,i){return"object"==typeof n?e.extend(!0,{},e.fn.transition.settings,n):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:n,onComplete:i,duration:t}):"string"==typeof t||"number"==typeof t?e.extend({},e.fn.transition.settings,{animation:n,duration:t}):"object"==typeof t?e.extend({},e.fn.transition.settings,t,{animation:n}):"function"==typeof t?e.extend({},e.fn.transition.settings,{animation:n,onComplete:t}):e.extend({},e.fn.transition.settings,{animation:n})},animationClass:function(e){var n=e||f.animation,t=x.can.transition()&&!x.has.direction()?x.get.direction()+" ":"";return v.animating+" "+v.transition+" "+t+n},currentAnimation:function(){return!(!x.cache||void 0===x.cache.animation)&&x.cache.animation},currentDirection:function(){return x.is.inward()?v.inward:v.outward},direction:function(){return x.is.hidden()||!x.is.visible()?v.inward:v.outward},animationDirection:function(n){var t;return"string"==typeof(n=n||f.animation)&&(n=n.split(" "),e.each(n,function(e,n){n===v.inward?t=v.inward:n===v.outward&&(t=v.outward)})),t||!1},duration:function(e){return!1===(e=e||f.duration)&&(e=C.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(e){return e=void 0===e||e,f.displayType?f.displayType:(e&&void 0===C.data(b.displayType)&&x.can.transition(!0),C.data(b.displayType))},userStyle:function(e){return(e=e||C.attr("style")||"").replace(/display.*?;/,"")},transitionExists:function(n){return e.fn.transition.exists[n]},animationStartEvent:function(){var e,n=t.createElement("div"),i={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in i)if(void 0!==n.style[e])return i[e];return!1},animationEndEvent:function(){var e,n=t.createElement("div"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==n.style[e])return i[e];return!1}},can:{transition:function(n){var t,i,o,a,s,r,c=f.animation,l=x.get.transitionExists(c),d=x.get.displayType(!1);if(void 0===l||n){if(x.verbose("Determining whether animation exists"),t=C.attr("class"),i=C.prop("tagName"),o=e("<"+i+" />").addClass(t).insertAfter(C),a=o.addClass(c).removeClass(v.inward).removeClass(v.outward).addClass(v.animating).addClass(v.transition).css("animationName"),s=o.addClass(v.inward).css("animationName"),d||(d=o.attr("class",t).removeAttr("style").removeClass(v.hidden).removeClass(v.visible).show().css("display"),x.verbose("Determining final display state",d),x.save.displayType(d)),o.remove(),a!=s)x.debug("Direction exists for animation",c),r=!0;else{if("none"==a||!a)return void x.debug("No animation defined in css",c);x.debug("Static animation found",c,d),r=!1}x.save.transitionExists(c,r)}return void 0!==l?l:r},animate:function(){return void 0!==x.can.transition()}},is:{animating:function(){return C.hasClass(v.animating)},inward:function(){return C.hasClass(v.inward)},outward:function(){return C.hasClass(v.outward)},looping:function(){return C.hasClass(v.looping)},occurring:function(e){return e=e||f.animation,e="."+e.replace(" ","."),C.filter(e).length>0},visible:function(){return C.is(":visible")},hidden:function(){return"hidden"===C.css("visibility")},supported:function(){return!1!==p}},hide:function(){x.verbose("Hiding element"),x.is.animating()&&x.reset(),w.blur(),x.remove.display(),x.remove.visible(),x.set.hidden(),x.force.hidden(),f.onHide.call(w),f.onComplete.call(w)},show:function(e){x.verbose("Showing element",e),x.remove.hidden(),x.set.visible(),x.force.visible(),f.onShow.call(w),f.onComplete.call(w)},toggle:function(){x.is.visible()?x.hide():x.show()},stop:function(){x.debug("Stopping current animation"),C.triggerHandler(p)},stopAll:function(){x.debug("Stopping all animation"),x.remove.queueCallback(),C.triggerHandler(p)},clear:{queue:function(){x.debug("Clearing animation queue"),x.remove.queueCallback()}},enable:function(){x.verbose("Starting animation"),C.removeClass(v.disabled)},disable:function(){x.debug("Stopping animation"),C.addClass(v.disabled)},setting:function(n,t){if(x.debug("Changing setting",n,t),e.isPlainObject(n))e.extend(!0,f,n);else{if(void 0===t)return f[n];e.isPlainObject(f[n])?e.extend(!0,f[n],t):f[n]=t}},internal:function(n,t){if(e.isPlainObject(n))e.extend(!0,x,n);else{if(void 0===t)return x[n];x[n]=t}},debug:function(){!f.silent&&f.debug&&(f.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,f.name+":"),x.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),x.verbose.apply(console,arguments)))},error:function(){f.silent||(x.error=Function.prototype.bind.call(console.error,console,f.name+":"),x.error.apply(console,arguments))},performance:{log:function(e){var n,t;f.performance&&(t=(n=(new Date).getTime())-(s||n),s=n,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:w,"Execution Time":t})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,500)},display:function(){var n=f.name+":",t=0;s=!1,clearTimeout(x.performance.timer),e.each(r,function(e,n){t+=n["Execution Time"]}),n+=" "+t+"ms",a&&(n+=" '"+a+"'"),o.length>1&&(n+=" ("+o.length+")"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(n),console.table?console.table(r):e.each(r,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(n,t,o){var a,s,r,c=m;return t=t||d,o=w||o,"string"==typeof n&&void 0!==c&&(n=n.split(/[\. ]/),a=n.length-1,e.each(n,function(t,i){var o=t!=a?i+n[t+1].charAt(0).toUpperCase()+n[t+1].slice(1):n;if(e.isPlainObject(c[o])&&t!=a)c=c[o];else{if(void 0!==c[o])return s=c[o],!1;if(!e.isPlainObject(c[i])||t==a)return void 0!==c[i]&&(s=c[i],!1);c=c[i]}})),e.isFunction(s)?r=s.apply(o,t):void 0!==s&&(r=s),e.isArray(i)?i.push(r):void 0!==i?i=[i,r]:void 0!==r&&(i=r),void 0!==s&&s}}).initialize()}),void 0!==i?i:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(e,n,t,i){"use strict";n=void 0!==n&&n.Math==Math?n:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.state=function(n){var i,o=e(this),a=o.selector||"",s=(t.documentElement,(new Date).getTime()),r=[],c=arguments[0],l="string"==typeof c,d=[].slice.call(arguments,1);return o.each(function(){var t,u=e.isPlainObject(n)?e.extend(!0,{},e.fn.state.settings,n):e.extend({},e.fn.state.settings),f=u.error,m=u.metadata,g=u.className,v=u.namespace,b=u.states,p=u.text,h="."+v,y=v+"-module",x=e(this),C=this,w=x.data(y);t={initialize:function(){t.verbose("Initializing module"),u.automatic&&t.add.defaults(),u.context&&""!==a?e(u.context).on(a,"mouseenter"+h,t.change.text).on(a,"mouseleave"+h,t.reset.text).on(a,"click"+h,t.toggle.state):x.on("mouseenter"+h,t.change.text).on("mouseleave"+h,t.reset.text).on("click"+h,t.toggle.state),t.instantiate()},instantiate:function(){t.verbose("Storing instance of module",t),w=t,x.data(y,t)},destroy:function(){t.verbose("Destroying previous module",w),x.off(h).removeData(y)},refresh:function(){t.verbose("Refreshing selector cache"),x=e(C)},add:{defaults:function(){var i=n&&e.isPlainObject(n.states)?n.states:{};e.each(u.defaults,function(n,o){void 0!==t.is[n]&&t.is[n]()&&(t.verbose("Adding default states",n,C),e.extend(u.states,o,i))})}},is:{active:function(){return x.hasClass(g.active)},loading:function(){return x.hasClass(g.loading)},inactive:function(){return!x.hasClass(g.active)},state:function(e){return void 0!==g[e]&&x.hasClass(g[e])},enabled:function(){return!x.is(u.filter.active)},disabled:function(){return x.is(u.filter.active)},textEnabled:function(){return!x.is(u.filter.text)},button:function(){return x.is(".button:not(a, .submit)")},input:function(){return x.is("input")},progress:function(){return x.is(".ui.progress")}},allow:function(e){t.debug("Now allowing state",e),b[e]=!0},disallow:function(e){t.debug("No longer allowing",e),b[e]=!1},allows:function(e){return b[e]||!1},enable:function(){x.removeClass(g.disabled)},disable:function(){x.addClass(g.disabled)},setState:function(e){t.allows(e)&&x.addClass(g[e])},removeState:function(e){t.allows(e)&&x.removeClass(g[e])},toggle:{state:function(){var n;if(t.allows("active")&&t.is.enabled()){if(t.refresh(),void 0!==e.fn.api)if(n=x.api("get request"),x.api("was cancelled"))t.debug("API Request cancelled by beforesend"),u.activateTest=function(){return!1},u.deactivateTest=function(){return!1};else if(n)return void t.listenTo(n);t.change.state()}}},listenTo:function(n){t.debug("API request detected, waiting for state signal",n),n&&(p.loading&&t.update.text(p.loading),e.when(n).then(function(){"resolved"==n.state()?(t.debug("API request succeeded"),u.activateTest=function(){return!0},u.deactivateTest=function(){return!0}):(t.debug("API request failed"),u.activateTest=function(){return!1},u.deactivateTest=function(){return!1}),t.change.state()}))},change:{state:function(){t.debug("Determining state change direction"),t.is.inactive()?t.activate():t.deactivate(),u.sync&&t.sync(),u.onChange.call(C)},text:function(){t.is.textEnabled()&&(t.is.disabled()?(t.verbose("Changing text to disabled text",p.hover),t.update.text(p.disabled)):t.is.active()?p.hover?(t.verbose("Changing text to hover text",p.hover),t.update.text(p.hover)):p.deactivate&&(t.verbose("Changing text to deactivating text",p.deactivate),t.update.text(p.deactivate)):p.hover?(t.verbose("Changing text to hover text",p.hover),t.update.text(p.hover)):p.activate&&(t.verbose("Changing text to activating text",p.activate),t.update.text(p.activate)))}},activate:function(){u.activateTest.call(C)&&(t.debug("Setting state to active"),x.addClass(g.active),t.update.text(p.active),u.onActivate.call(C))},deactivate:function(){u.deactivateTest.call(C)&&(t.debug("Setting state to inactive"),x.removeClass(g.active),t.update.text(p.inactive),u.onDeactivate.call(C))},sync:function(){t.verbose("Syncing other buttons to current state"),t.is.active()?o.not(x).state("activate"):o.not(x).state("deactivate")},get:{text:function(){return u.selector.text?x.find(u.selector.text).text():x.html()},textFor:function(e){return p[e]||!1}},flash:{text:function(e,n,i){var o=t.get.text();t.debug("Flashing text message",e,n),e=e||u.text.flash,n=n||u.flashDuration,i=i||function(){},t.update.text(e),setTimeout(function(){t.update.text(o),i.call(C)},n)}},reset:{text:function(){var e=p.active||x.data(m.storedText),n=p.inactive||x.data(m.storedText);t.is.textEnabled()&&(t.is.active()&&e?(t.verbose("Resetting active text",e),t.update.text(e)):n&&(t.verbose("Resetting inactive text",e),t.update.text(n)))}},update:{text:function(e){var n=t.get.text();e&&e!==n?(t.debug("Updating text",e),u.selector.text?x.data(m.storedText,e).find(u.selector.text).text(e):x.data(m.storedText,e).html(e)):t.debug("Text is already set, ignoring update",e)}},setting:function(n,i){if(t.debug("Changing setting",n,i),e.isPlainObject(n))e.extend(!0,u,n);else{if(void 0===i)return u[n];e.isPlainObject(u[n])?e.extend(!0,u[n],i):u[n]=i}},internal:function(n,i){if(e.isPlainObject(n))e.extend(!0,t,n);else{if(void 0===i)return t[n];t[n]=i}},debug:function(){!u.silent&&u.debug&&(u.performance?t.performance.log(arguments):(t.debug=Function.prototype.bind.call(console.info,console,u.name+":"),t.debug.apply(console,arguments)))},verbose:function(){!u.silent&&u.verbose&&u.debug&&(u.performance?t.performance.log(arguments):(t.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),t.verbose.apply(console,arguments)))},error:function(){u.silent||(t.error=Function.prototype.bind.call(console.error,console,u.name+":"),t.error.apply(console,arguments))},performance:{log:function(e){var n,i;u.performance&&(i=(n=(new Date).getTime())-(s||n),s=n,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:C,"Execution Time":i})),clearTimeout(t.performance.timer),t.performance.timer=setTimeout(t.performance.display,500)},display:function(){var n=u.name+":",i=0;s=!1,clearTimeout(t.performance.timer),e.each(r,function(e,n){i+=n["Execution Time"]}),n+=" "+i+"ms",a&&(n+=" '"+a+"'"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(n),console.table?console.table(r):e.each(r,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(n,o,a){var s,r,c,l=w;return o=o||d,a=C||a,"string"==typeof n&&void 0!==l&&(n=n.split(/[\. ]/),s=n.length-1,e.each(n,function(i,o){var a=i!=s?o+n[i+1].charAt(0).toUpperCase()+n[i+1].slice(1):n;if(e.isPlainObject(l[a])&&i!=s)l=l[a];else{if(void 0!==l[a])return r=l[a],!1;if(!e.isPlainObject(l[o])||i==s)return void 0!==l[o]?(r=l[o],!1):(t.error(f.method,n),!1);l=l[o]}})),e.isFunction(r)?c=r.apply(a,o):void 0!==r&&(c=r),e.isArray(i)?i.push(c):void 0!==i?i=[i,c]:void 0!==c&&(i=c),r}},l?(void 0===w&&t.initialize(),t.invoke(c)):(void 0!==w&&w.invoke("destroy"),t.initialize())}),void 0!==i?i:this},e.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(e,n,t,i){"use strict";n=void 0!==n&&n.Math==Math?n:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.visibility=function(i){var o,a=e(this),s=a.selector||"",r=(new Date).getTime(),c=[],l=arguments[0],d="string"==typeof l,u=[].slice.call(arguments,1),f=a.length,m=0;return a.each(function(){var a,g,v,b,p=e.isPlainObject(i)?e.extend(!0,{},e.fn.visibility.settings,i):e.extend({},e.fn.visibility.settings),h=p.className,y=p.namespace,x=p.error,C=p.metadata,w="."+y,T="module-"+y,S=e(n),P=e(this),A=e(p.context),k=(P.selector,P.data(T)),R=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)},E=this,F=!1;b={initialize:function(){b.debug("Initializing",p),b.setup.cache(),b.should.trackChanges()&&("image"==p.type&&b.setup.image(),"fixed"==p.type&&b.setup.fixed(),p.observeChanges&&b.observeChanges(),b.bind.events()),b.save.position(),b.is.visible()||b.error(x.visible,P),p.initialCheck&&b.checkVisibility(),b.instantiate()},instantiate:function(){b.debug("Storing instance",b),P.data(T,b),k=b},destroy:function(){b.verbose("Destroying previous module"),v&&v.disconnect(),g&&g.disconnect(),S.off("load"+w,b.event.load).off("resize"+w,b.event.resize),A.off("scroll"+w,b.event.scroll).off("scrollchange"+w,b.event.scrollchange),"fixed"==p.type&&(b.resetFixed(),b.remove.placeholder()),P.off(w).removeData(T)},observeChanges:function(){"MutationObserver"in n&&(g=new MutationObserver(b.event.contextChanged),v=new MutationObserver(b.event.changed),g.observe(t,{childList:!0,subtree:!0}),v.observe(E,{childList:!0,subtree:!0}),b.debug("Setting up mutation observer",v))},bind:{events:function(){b.verbose("Binding visibility events to scroll and resize"),p.refreshOnLoad&&S.on("load"+w,b.event.load),S.on("resize"+w,b.event.resize),A.off("scroll"+w).on("scroll"+w,b.event.scroll).on("scrollchange"+w,b.event.scrollchange)}},event:{changed:function(e){b.verbose("DOM tree modified, updating visibility calculations"),b.timer=setTimeout(function(){b.verbose("DOM tree modified, updating sticky menu"),b.refresh()},100)},contextChanged:function(n){[].forEach.call(n,function(n){n.removedNodes&&[].forEach.call(n.removedNodes,function(n){(n==E||e(n).find(E).length>0)&&(b.debug("Element removed from DOM, tearing down events"),b.destroy())})})},resize:function(){b.debug("Window resized"),p.refreshOnResize&&R(b.refresh)},load:function(){b.debug("Page finished loading"),R(b.refresh)},scroll:function(){p.throttle?(clearTimeout(b.timer),b.timer=setTimeout(function(){A.triggerHandler("scrollchange"+w,[A.scrollTop()])},p.throttle)):R(function(){A.triggerHandler("scrollchange"+w,[A.scrollTop()])})},scrollchange:function(e,n){b.checkVisibility(n)}},precache:function(n,i){n instanceof Array||(n=[n]);for(var o=n.length,a=0,s=[],r=t.createElement("img"),c=function(){++a>=n.length&&e.isFunction(i)&&i()};o--;)(r=t.createElement("img")).onload=c,r.onerror=c,r.src=n[o],s.push(r)},enableCallbacks:function(){b.debug("Allowing callbacks to occur"),F=!1},disableCallbacks:function(){b.debug("Disabling all callbacks temporarily"),F=!0},should:{trackChanges:function(){return d?(b.debug("One time query, no need to bind events"),!1):(b.debug("Callbacks being attached"),!0)}},setup:{cache:function(){b.cache={occurred:{},screen:{},element:{}}},image:function(){var e=P.data(C.src);e&&(b.verbose("Lazy loading image",e),p.once=!0,p.observeChanges=!1,p.onOnScreen=function(){b.debug("Image on screen",E),b.precache(e,function(){b.set.image(e,function(){++m==f&&p.onAllLoaded.call(this),p.onLoad.call(this)})})})},fixed:function(){b.debug("Setting up fixed"),p.once=!1,p.observeChanges=!1,p.initialCheck=!0,p.refreshOnLoad=!0,i.transition||(p.transition=!1),b.create.placeholder(),b.debug("Added placeholder",a),p.onTopPassed=function(){b.debug("Element passed, adding fixed position",P),b.show.placeholder(),b.set.fixed(),p.transition&&void 0!==e.fn.transition&&P.transition(p.transition,p.duration)},p.onTopPassedReverse=function(){b.debug("Element returned to position, removing fixed",P),b.hide.placeholder(),b.remove.fixed()}}},create:{placeholder:function(){b.verbose("Creating fixed position placeholder"),a=P.clone(!1).css("display","none").addClass(h.placeholder).insertAfter(P)}},show:{placeholder:function(){b.verbose("Showing placeholder"),a.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){b.verbose("Hiding placeholder"),a.css("display","none").css("visibility","")}},set:{fixed:function(){b.verbose("Setting element to fixed position"),P.addClass(h.fixed).css({position:"fixed",top:p.offset+"px",left:"auto",zIndex:p.zIndex}),p.onFixed.call(E)},image:function(n,t){if(P.attr("src",n),p.transition)if(void 0!==e.fn.transition){if(P.hasClass(h.visible))return void b.debug("Transition already occurred on this image, skipping animation");P.transition(p.transition,p.duration,t)}else P.fadeIn(p.duration,t);else P.show()}},is:{onScreen:function(){return b.get.elementCalculations().onScreen},offScreen:function(){return b.get.elementCalculations().offScreen},visible:function(){return!(!b.cache||!b.cache.element)&&!(0===b.cache.element.width&&0===b.cache.element.offset.top)},verticallyScrollableContext:function(){var e=A.get(0)!==n&&A.css("overflow-y");return"auto"==e||"scroll"==e},horizontallyScrollableContext:function(){var e=A.get(0)!==n&&A.css("overflow-x");return"auto"==e||"scroll"==e}},refresh:function(){b.debug("Refreshing constants (width/height)"),"fixed"==p.type&&b.resetFixed(),b.reset(),b.save.position(),p.checkOnRefresh&&b.checkVisibility(),p.onRefresh.call(E)},resetFixed:function(){b.remove.fixed(),b.remove.occurred()},reset:function(){b.verbose("Resetting all cached values"),e.isPlainObject(b.cache)&&(b.cache.screen={},b.cache.element={})},checkVisibility:function(e){b.verbose("Checking visibility of element",b.cache.element),!F&&b.is.visible()&&(b.save.scroll(e),b.save.calculations(),b.passed(),b.passingReverse(),b.topVisibleReverse(),b.bottomVisibleReverse(),b.topPassedReverse(),b.bottomPassedReverse(),b.onScreen(),b.offScreen(),b.passing(),b.topVisible(),b.bottomVisible(),b.topPassed(),b.bottomPassed(),p.onUpdate&&p.onUpdate.call(E,b.get.elementCalculations()))},passed:function(n,t){var i=b.get.elementCalculations();if(n&&t)p.onPassed[n]=t;else{if(void 0!==n)return b.get.pixelsPassed(n)>i.pixelsPassed;i.passing&&e.each(p.onPassed,function(e,n){i.bottomVisible||i.pixelsPassed>b.get.pixelsPassed(e)?b.execute(n,e):p.once||b.remove.occurred(n)})}},onScreen:function(e){var n=b.get.elementCalculations(),t=e||p.onOnScreen;if(e&&(b.debug("Adding callback for onScreen",e),p.onOnScreen=e),n.onScreen?b.execute(t,"onScreen"):p.once||b.remove.occurred("onScreen"),void 0!==e)return n.onOnScreen},offScreen:function(e){var n=b.get.elementCalculations(),t=e||p.onOffScreen;if(e&&(b.debug("Adding callback for offScreen",e),p.onOffScreen=e),n.offScreen?b.execute(t,"offScreen"):p.once||b.remove.occurred("offScreen"),void 0!==e)return n.onOffScreen},passing:function(e){var n=b.get.elementCalculations(),t=e||p.onPassing;if(e&&(b.debug("Adding callback for passing",e),p.onPassing=e),n.passing?b.execute(t,"passing"):p.once||b.remove.occurred("passing"),void 0!==e)return n.passing},topVisible:function(e){var n=b.get.elementCalculations(),t=e||p.onTopVisible;if(e&&(b.debug("Adding callback for top visible",e),p.onTopVisible=e),n.topVisible?b.execute(t,"topVisible"):p.once||b.remove.occurred("topVisible"),void 0===e)return n.topVisible},bottomVisible:function(e){var n=b.get.elementCalculations(),t=e||p.onBottomVisible;if(e&&(b.debug("Adding callback for bottom visible",e),p.onBottomVisible=e),n.bottomVisible?b.execute(t,"bottomVisible"):p.once||b.remove.occurred("bottomVisible"),void 0===e)return n.bottomVisible},topPassed:function(e){var n=b.get.elementCalculations(),t=e||p.onTopPassed;if(e&&(b.debug("Adding callback for top passed",e),p.onTopPassed=e),n.topPassed?b.execute(t,"topPassed"):p.once||b.remove.occurred("topPassed"),void 0===e)return n.topPassed},bottomPassed:function(e){var n=b.get.elementCalculations(),t=e||p.onBottomPassed;if(e&&(b.debug("Adding callback for bottom passed",e),p.onBottomPassed=e),n.bottomPassed?b.execute(t,"bottomPassed"):p.once||b.remove.occurred("bottomPassed"),void 0===e)return n.bottomPassed},passingReverse:function(e){var n=b.get.elementCalculations(),t=e||p.onPassingReverse;if(e&&(b.debug("Adding callback for passing reverse",e),p.onPassingReverse=e),n.passing?p.once||b.remove.occurred("passingReverse"):b.get.occurred("passing")&&b.execute(t,"passingReverse"),void 0!==e)return!n.passing},topVisibleReverse:function(e){var n=b.get.elementCalculations(),t=e||p.onTopVisibleReverse;if(e&&(b.debug("Adding callback for top visible reverse",e),p.onTopVisibleReverse=e),n.topVisible?p.once||b.remove.occurred("topVisibleReverse"):b.get.occurred("topVisible")&&b.execute(t,"topVisibleReverse"),void 0===e)return!n.topVisible},bottomVisibleReverse:function(e){var n=b.get.elementCalculations(),t=e||p.onBottomVisibleReverse;if(e&&(b.debug("Adding callback for bottom visible reverse",e),p.onBottomVisibleReverse=e),n.bottomVisible?p.once||b.remove.occurred("bottomVisibleReverse"):b.get.occurred("bottomVisible")&&b.execute(t,"bottomVisibleReverse"),void 0===e)return!n.bottomVisible},topPassedReverse:function(e){var n=b.get.elementCalculations(),t=e||p.onTopPassedReverse;if(e&&(b.debug("Adding callback for top passed reverse",e),p.onTopPassedReverse=e),n.topPassed?p.once||b.remove.occurred("topPassedReverse"):b.get.occurred("topPassed")&&b.execute(t,"topPassedReverse"),void 0===e)return!n.onTopPassed},bottomPassedReverse:function(e){var n=b.get.elementCalculations(),t=e||p.onBottomPassedReverse;if(e&&(b.debug("Adding callback for bottom passed reverse",e),p.onBottomPassedReverse=e),n.bottomPassed?p.once||b.remove.occurred("bottomPassedReverse"):b.get.occurred("bottomPassed")&&b.execute(t,"bottomPassedReverse"),void 0===e)return!n.bottomPassed},execute:function(e,n){var t=b.get.elementCalculations(),i=b.get.screenCalculations();(e=e||!1)&&(p.continuous?(b.debug("Callback being called continuously",n,t),e.call(E,t,i)):b.get.occurred(n)||(b.debug("Conditions met",n,t),e.call(E,t,i))),b.save.occurred(n)},remove:{fixed:function(){b.debug("Removing fixed position"),P.removeClass(h.fixed).css({position:"",top:"",left:"",zIndex:""}),p.onUnfixed.call(E)},placeholder:function(){b.debug("Removing placeholder content"),a&&a.remove()},occurred:function(e){if(e){var n=b.cache.occurred;void 0!==n[e]&&!0===n[e]&&(b.debug("Callback can now be called again",e),b.cache.occurred[e]=!1)}else b.cache.occurred={}}},save:{calculations:function(){b.verbose("Saving all calculations necessary to determine positioning"),b.save.direction(),b.save.screenCalculations(),b.save.elementCalculations()},occurred:function(e){e&&(void 0!==b.cache.occurred[e]&&!0===b.cache.occurred[e]||(b.verbose("Saving callback occurred",e),b.cache.occurred[e]=!0))},scroll:function(e){e=e+p.offset||A.scrollTop()+p.offset,b.cache.scroll=e},direction:function(){var e,n=b.get.scroll(),t=b.get.lastScroll();return e=n>t&&t?"down":n<t&&t?"up":"static",b.cache.direction=e,b.cache.direction},elementPosition:function(){var e=b.cache.element,n=b.get.screenSize();return b.verbose("Saving element position"),e.fits=e.height<n.height,e.offset=P.offset(),e.width=P.outerWidth(),e.height=P.outerHeight(),b.is.verticallyScrollableContext()&&(e.offset.top+=A.scrollTop()-A.offset().top),b.is.horizontallyScrollableContext()&&(e.offset.left+=A.scrollLeft-A.offset().left),b.cache.element=e,e},elementCalculations:function(){var e=b.get.screenCalculations(),n=b.get.elementPosition();return p.includeMargin?(n.margin={},n.margin.top=parseInt(P.css("margin-top"),10),n.margin.bottom=parseInt(P.css("margin-bottom"),10),n.top=n.offset.top-n.margin.top,n.bottom=n.offset.top+n.height+n.margin.bottom):(n.top=n.offset.top,n.bottom=n.offset.top+n.height),n.topPassed=e.top>=n.top,n.bottomPassed=e.top>=n.bottom,n.topVisible=e.bottom>=n.top&&!n.bottomPassed,n.bottomVisible=e.bottom>=n.bottom&&!n.topPassed,n.pixelsPassed=0,n.percentagePassed=0,n.onScreen=n.topVisible&&!n.bottomPassed,n.passing=n.topPassed&&!n.bottomPassed,n.offScreen=!n.onScreen,n.passing&&(n.pixelsPassed=e.top-n.top,n.percentagePassed=(e.top-n.top)/n.height),b.cache.element=n,b.verbose("Updated element calculations",n),n},screenCalculations:function(){var e=b.get.scroll();return b.save.direction(),b.cache.screen.top=e,b.cache.screen.bottom=e+b.cache.screen.height,b.cache.screen},screenSize:function(){b.verbose("Saving window position"),b.cache.screen={height:A.height()}},position:function(){b.save.screenSize(),b.save.elementPosition()}},get:{pixelsPassed:function(e){var n=b.get.elementCalculations();return e.search("%")>-1?n.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return void 0!==b.cache.occurred&&(b.cache.occurred[e]||!1)},direction:function(){return void 0===b.cache.direction&&b.save.direction(),b.cache.direction},elementPosition:function(){return void 0===b.cache.element&&b.save.elementPosition(),b.cache.element},elementCalculations:function(){return void 0===b.cache.element&&b.save.elementCalculations(),b.cache.element},screenCalculations:function(){return void 0===b.cache.screen&&b.save.screenCalculations(),b.cache.screen},screenSize:function(){return void 0===b.cache.screen&&b.save.screenSize(),b.cache.screen},scroll:function(){return void 0===b.cache.scroll&&b.save.scroll(),b.cache.scroll},lastScroll:function(){return void 0===b.cache.screen?(b.debug("First scroll event, no last scroll could be found"),!1):b.cache.screen.top}},setting:function(n,t){if(e.isPlainObject(n))e.extend(!0,p,n);else{if(void 0===t)return p[n];p[n]=t}},internal:function(n,t){if(e.isPlainObject(n))e.extend(!0,b,n);else{if(void 0===t)return b[n];b[n]=t}},debug:function(){!p.silent&&p.debug&&(p.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,p.name+":"),b.debug.apply(console,arguments)))},verbose:function(){!p.silent&&p.verbose&&p.debug&&(p.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),b.verbose.apply(console,arguments)))},error:function(){p.silent||(b.error=Function.prototype.bind.call(console.error,console,p.name+":"),b.error.apply(console,arguments))},performance:{log:function(e){var n,t;p.performance&&(t=(n=(new Date).getTime())-(r||n),r=n,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:E,"Execution Time":t})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var n=p.name+":",t=0;r=!1,clearTimeout(b.performance.timer),e.each(c,function(e,n){t+=n["Execution Time"]}),n+=" "+t+"ms",s&&(n+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&c.length>0&&(console.groupCollapsed(n),console.table?console.table(c):e.each(c,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(n,t,i){var a,s,r,c=k;return t=t||u,i=E||i,"string"==typeof n&&void 0!==c&&(n=n.split(/[\. ]/),a=n.length-1,e.each(n,function(t,i){var o=t!=a?i+n[t+1].charAt(0).toUpperCase()+n[t+1].slice(1):n;if(e.isPlainObject(c[o])&&t!=a)c=c[o];else{if(void 0!==c[o])return s=c[o],!1;if(!e.isPlainObject(c[i])||t==a)return void 0!==c[i]?(s=c[i],!1):(b.error(x.method,n),!1);c=c[i]}})),e.isFunction(s)?r=s.apply(i,t):void 0!==s&&(r=s),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),s}},d?(void 0===k&&b.initialize(),k.save.scroll(),k.save.calculations(),b.invoke(l)):(void 0!==k&&k.invoke("destroy"),b.initialize())}),void 0!==o?o:this},e.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:n,throttle:!1,type:!1,zIndex:"10",transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onLoad:function(){},onAllLoaded:function(){},onFixed:function(){},onUnfixed:function(){},onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder",visible:"visible"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document);